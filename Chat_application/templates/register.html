{% extends "base.html" %}

{% block title %}{{ get_text('register') }} - {{ get_text('app_title') }}{% endblock %}

{% block content %}
<!-- Language Switcher -->
<div class="language-switcher">
    <h4>{{ get_text('language') }}</h4>
    <div class="language-buttons">
        <a href="{{ url_for('set_language', language='en') }}" 
           class="lang-btn {{ 'active' if current_language == 'en' else '' }}">
            ğŸ‡ºğŸ‡¸ EN
        </a>
        <a href="{{ url_for('set_language', language='ta') }}" 
           class="lang-btn {{ 'active' if current_language == 'ta' else '' }}">
            ğŸ‡®ğŸ‡³ à®¤à®®à®¿à®´à¯
        </a>
    </div>
</div>

<div class="header">
    <h1>{{ get_text('app_title') }}</h1>
    <p class="subtitle">{{ get_text('register') }}</p>
</div>

<div class="form-container">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ 'error' if category == 'error' else 'success' }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('register') }}">
        <div class="form-group">
            <label for="username">{{ get_text('username') }}:</label>
            <input type="text" id="username" name="username" required>
        </div>

        <div class="form-group">
            <label for="display_name">{{ get_text('display_name') }}:</label>
            <input type="text" id="display_name" name="display_name" placeholder="{% if current_language == 'ta' %}à®‰à®¤à®¾: Arun à®…à®²à¯à®²à®¤à¯ Kavitha{% else %}e.g., Arun or Kavitha{% endif %}" required>
        </div>

        <div class="form-group">
            <label for="email">{{ get_text('email') }}:</label>
            <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
            <label for="password">{{ get_text('password') }}:</label>
            <input type="password" id="password" name="password" required>
        </div>

        <button type="submit" class="btn">{{ get_text('register_btn') }}</button>
    </form>

    <div class="links">
        <p>{{ get_text('already_have_account') }} <a href="{{ url_for('login') }}">{{ get_text('login_here') }}</a></p>
    </div>
</div>
{% endblock %}
