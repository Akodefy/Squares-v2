import{j as e}from"./ui-CMGlPv8M.js";import{d as x,r as o}from"./router-02yfTqxa.js";import{a1 as v,f as l,D as u,a as j,b as f,c as g,d as C,e as N,L as n,I as d,T as b}from"./index-DGiQKbnC.js";import"./checkbox-Cs4lqKpa.js";import{r as y}from"./roleService-CM7r2mAC.js";import"./vendor-Dazix4UH.js";const E=()=>{const r=x(),{toast:m}=v(),[i,c]=o.useState(!1),[s,t]=o.useState({name:"",description:"",pages:[],level:1,isActive:!0}),p=async a=>{if(a.preventDefault(),!s.name.trim()){m({title:"Validation Error",description:"Role name is required",variant:"destructive"});return}try{c(!0),await y.createRole({name:s.name,description:s.description,pages:s.pages,level:s.level,isActive:s.isActive,isSystemRole:!1}),r("/admin/roles")}catch(h){console.error("Failed to create role:",h)}finally{c(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>r("/admin/roles"),children:e.jsx(u,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Create New Role"}),e.jsx("p",{className:"text-muted-foreground",children:"Define a new role with specific page access"})]})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs(j,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Basic Information"}),e.jsx(C,{children:"Enter the basic details for the role"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"name",children:["Role Name ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(d,{id:"name",value:s.name,onChange:a=>t({...s,name:a.target.value}),placeholder:"e.g., Content Manager",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"level",children:"Access Level (1-10)"}),e.jsx(d,{id:"level",type:"number",min:"1",max:"10",value:s.level,onChange:a=>t({...s,level:parseInt(a.target.value)||1})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsx(b,{id:"description",value:s.description,onChange:a=>t({...s,description:a.target.value}),placeholder:"Describe the purpose and responsibilities of this role",rows:3})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(l,{type:"submit",disabled:i,children:i?"Creating...":"Create Role"}),e.jsx(l,{type:"button",variant:"outline",onClick:()=>r("/admin/roles"),disabled:i,children:"Cancel"})]})]})]})};export{E as default};
