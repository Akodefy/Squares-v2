import{j as e}from"./ui-DOY6021Z.js";import{r as o}from"./router-2SVJvIbS.js";import{z as ge,av as je,m as y,t as G,aw as D,B as K,f as b,x as ve,ae as Q,T as ye,K as Ne,L as X,ac as Y,a as S,e as R,O as we,Q as be,R as Ce,S as Pe,M as Se,y as Re,h as $e,b as q,c as L,I as k,C as De,q as E,r as V,s as M,v as U,w as z,X as ke,E as Te,$ as O,ai as W}from"./index-8dkl62y8.js";import{L as g}from"./label-UWGJ9NFN.js";import{T as Ae}from"./textarea-DlstSMUc.js";import{P as Fe}from"./PincodeAutocomplete-BtjYfehl.js";import{u as T}from"./userService-6V1iEl1Q.js";import{c as Z}from"./customerDashboardService-C-ye5fOE.js";import{R as ee}from"./refresh-cw-B7b8V-1W.js";import{P as Ie}from"./pen-line-CsoOJxzw.js";import{C as qe}from"./camera-DWi2SzWe.js";import{C as Le}from"./calendar-DLw8psl4.js";import{S as Ee}from"./save-Bw-3l-sI.js";import{T as Ve}from"./trending-up-CN39lDc_.js";import{A as se}from"./activity-pl8bYI5L.js";import"./vendor-Dazix4UH.js";import"./dialog-Dy1IM_sd.js";import"./loader-circle-BnrCgTju.js";class Me{baseUrl="https://squares-v2.onrender.com/api";async makeRequest(a,r={}){const i=`${this.baseUrl}${a}`,p={headers:{"Content-Type":"application/json",...r.headers},...r},h=ge.getToken();h&&(p.headers={...p.headers,Authorization:`Bearer ${h}`});try{const l=await fetch(i,p);if(!l.ok){const v=await l.json().catch(()=>({success:!1,message:`HTTP ${l.status}: ${l.statusText}`}));throw new Error(v.message||"An error occurred")}return await l.json()}catch(l){throw console.error("API request failed:",l),l}}async getCustomerProperties(a={}){try{const r=new URLSearchParams;Object.entries(a).forEach(([h,l])=>{l!=null&&l!==""&&r.append(h,l.toString())});const i=`/customer/properties${r.toString()?`?${r.toString()}`:""}`;return await this.makeRequest(i)}catch(r){return console.error("Failed to fetch customer properties:",r),{success:!0,data:{properties:[],pagination:{currentPage:1,totalPages:0,totalProperties:0,hasNextPage:!1,hasPrevPage:!1},stats:{totalProperties:0,activeProperties:0,rentedProperties:0,soldProperties:0,draftProperties:0,pendingProperties:0,totalViews:0,totalInquiries:0,totalFavorites:0,totalRevenue:0,monthlyRevenue:0,averageViews:0,averageInquiries:0,conversionRate:0}}}}}async getCustomerPropertyStats(){try{return await this.makeRequest("/customer/properties/stats")}catch(a){return console.error("Failed to fetch customer property stats:",a),{success:!0,data:{totalProperties:0,activeProperties:0,rentedProperties:0,soldProperties:0,draftProperties:0,pendingProperties:0,totalViews:0,totalInquiries:0,totalFavorites:0,totalRevenue:0,monthlyRevenue:0,averageViews:0,averageInquiries:0,conversionRate:0}}}}async getProperty(a){try{return await this.makeRequest(`/customer/properties/${a}`)}catch(r){throw console.error("Failed to fetch property:",r),r}}async createProperty(a){try{return await this.makeRequest("/customer/properties",{method:"POST",body:JSON.stringify(a)})}catch(r){throw console.error("Failed to create property:",r),r}}async updateProperty(a,r){try{return await this.makeRequest(`/customer/properties/${a}`,{method:"PUT",body:JSON.stringify(r)})}catch(i){throw console.error("Failed to update property:",i),i}}async deleteProperty(a){try{await this.makeRequest(`/customer/properties/${a}`,{method:"DELETE"})}catch(r){throw console.error("Failed to delete property:",r),r}}async togglePropertyStatus(a,r){try{return await this.makeRequest(`/customer/properties/${a}/status`,{method:"PATCH",body:JSON.stringify({status:r})})}catch(i){throw console.error("Failed to toggle property status:",i),i}}async togglePropertyFeatured(a,r){try{return await this.makeRequest(`/customer/properties/${a}/featured`,{method:"PATCH",body:JSON.stringify({featured:r})})}catch(i){throw console.error("Failed to toggle property featured status:",i),i}}async getPropertyAnalytics(a,r="month"){try{return await this.makeRequest(`/customer/properties/${a}/analytics?period=${r}`)}catch(i){return console.error("Failed to fetch property analytics:",i),{success:!0,data:{views:[],inquiries:[],favorites:[],conversionRate:0,avgResponseTime:"N/A",topReferrers:[],engagement:{totalClicks:0,phoneClicks:0,emailClicks:0,messageClicks:0}}}}}formatPrice(a,r){return r==="rent"?`â‚¹${a.toLocaleString("en-IN")}/month`:r==="lease"?`â‚¹${a.toLocaleString("en-IN")}/year`:a>=1e7?`â‚¹${(a/1e7).toFixed(1)} Cr`:a>=1e5?`â‚¹${(a/1e5).toFixed(1)} Lac`:`â‚¹${a.toLocaleString("en-IN")}`}formatArea(a){return a.builtUp?`${a.builtUp} ${a.unit}`:a.plot?`${a.plot} ${a.unit}`:a.carpet?`${a.carpet} ${a.unit}`:"Area not specified"}getStatusColor(a){switch(a){case"active":return"bg-green-500";case"rented":return"bg-blue-500";case"sold":return"bg-purple-500";case"pending":return"bg-yellow-500";case"draft":return"bg-gray-500";case"inactive":return"bg-red-500";default:return"bg-gray-500"}}getStatusText(a){switch(a){case"active":return"Active";case"rented":return"Rented";case"sold":return"Sold";case"pending":return"Under Review";case"draft":return"Draft";case"inactive":return"Inactive";default:return a}}formatTimeAgo(a){const r=new Date(a),p=new Date().getTime()-r.getTime(),h=Math.floor(p/(1e3*60)),l=Math.floor(h/60),v=Math.floor(l/24);return h<1?"Just now":h<60?`${h} min ago`:l<24?`${l} hour${l>1?"s":""} ago`:v<7?`${v} day${v>1?"s":""} ago`:r.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}getPrimaryImage(a){return a.images.find(i=>i.isPrimary)?.url||a.images[0]?.url||"/placeholder-property.jpg"}getDaysOnMarket(a){const r=new Date(a),p=new Date().getTime()-r.getTime();return Math.floor(p/(1e3*60*60*24))}calculateMonthlyRevenue(a){return a.filter(r=>r.status==="rented"&&r.listingType==="rent").reduce((r,i)=>r+i.price,0)}calculateTotalRevenue(a){const r=a.filter(l=>l.status==="sold");a.filter(l=>l.status==="rented");const i=r.reduce((l,v)=>l+v.price,0),h=this.calculateMonthlyRevenue(a)*12;return i+h}}const Ue=new Me,is=()=>{const{isConnected:A,lastEvent:a}=je(),[r,i]=o.useState(!1),[p,h]=o.useState(!0),[l,v]=o.useState(!1),[F,B]=o.useState(!1),[P,te]=o.useState(null),[c,j]=o.useState({name:"",email:"",phone:"",location:"",address:"",pincode:"",bio:"",joinDate:"",avatar:"",verified:!1}),[n,w]=o.useState({states:[],districts:[],cities:[],selectedState:"",selectedDistrict:"",selectedCity:"",loadingStates:!1,loadingDistricts:!1,loadingCities:!1}),[N,C]=o.useState({propertiesPosted:0,inquiriesReceived:0,responseRate:0,avgResponseTime:"N/A",rating:0,reviews:0,totalViews:0,totalFavorites:0}),[H,ae]=o.useState([]);o.useEffect(()=>{(async()=>{try{await y.initialize();const t=y.getStates();w(u=>({...u,states:t}))}catch(t){console.error("Error initializing location service:",t)}})()},[]);const re=o.useCallback(s=>{w(t=>({...t,selectedState:s,selectedDistrict:"",selectedCity:"",districts:y.getDistricts(s),cities:[]})),j(t=>({...t,location:`${s}`}))},[]),ie=o.useCallback(s=>{w(t=>{const u=t.selectedState;return{...t,selectedDistrict:s,selectedCity:"",cities:y.getCities(u,s)}}),j(t=>({...t,location:`${s}, ${n.selectedState}`}))},[n.selectedState]),ce=o.useCallback(s=>{w(t=>({...t,selectedCity:s})),j(t=>({...t,location:`${s}, ${n.selectedDistrict}, ${n.selectedState}`}))},[n.selectedState,n.selectedDistrict]),ne=o.useCallback(s=>{if(!s)return"Not specified";const t=[];return s.city&&t.push(s.city),s.district&&s.district!==s.city&&t.push(s.district),s.state&&t.push(s.state),t.length>0?t.join(", "):"Not specified"},[]),$=o.useCallback(async()=>{try{h(!0);const[s,t,u]=await Promise.all([T.getCurrentUser(),Z.getCustomerDashboardData().catch(()=>null),Ue.getCustomerPropertyStats().catch(()=>null)]),x=s.data.user;te(x);const m=x.profile.address,xe=m?`${m.city||""}, ${m.state||""}`.replace(/^,\s*|,\s*$/g,""):"";if(console.log("Loading user data, address:",m),console.log("Existing zipCode from database:",m?.zipCode),j({name:T.getFullName(x),email:x.email,phone:x.profile.phone||"",location:xe,address:m?.street||"",pincode:m?.zipCode||"",bio:"",joinDate:T.formatCreationDate(x.createdAt),avatar:"",verified:x.emailVerified}),m?.state||m?.city){const d=m.state||"",f=m.city||"";if(w(I=>({...I,selectedState:d,selectedCity:f,districts:d?y.getDistricts(d):[],cities:d?y.getCities(d,""):[]})),f&&d){const I=y.getDistricts(d);for(const J of I){const _=y.getCities(d,J);if(_.includes(f)){w(fe=>({...fe,selectedDistrict:J,cities:_}));break}}}}if(t?.success){const d=t.data.stats;C(f=>({...f,inquiriesReceived:d.activeInquiries,totalViews:d.propertiesViewed,totalFavorites:d.savedFavorites})),ae(t.data.recentActivities.map(f=>({id:f._id,type:f.type,message:f.message,timestamp:f.time,icon:f.icon})))}if(u?.success){const d=u.data;C(f=>({...f,propertiesPosted:d.totalProperties,responseRate:Math.round(d.conversionRate)||0,avgResponseTime:d.averageInquiries>0?"< 2 hours":"N/A"}))}}catch(s){console.error("Error loading user data:",s),G({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{h(!1)}},[]),le=o.useCallback(async()=>{B(!0),await $(),B(!1)},[]);o.useEffect(()=>{$()},[]);const oe=o.useCallback(()=>{console.log("Profile updated via realtime"),$()},[]),de=o.useCallback(()=>{C(s=>({...s,inquiriesReceived:s.inquiriesReceived+1}))},[]),me=o.useCallback(()=>{C(s=>({...s,totalViews:s.totalViews+1}))},[]),pe=o.useCallback(s=>{s.action==="add"?C(t=>({...t,totalFavorites:t.totalFavorites+1})):s.action==="remove"&&C(t=>({...t,totalFavorites:Math.max(0,t.totalFavorites-1)}))},[]);D("profile_updated",oe),D("property_inquiry",de),D("property_viewed",me),D("property_favorited",pe);const he=async()=>{if(P)try{v(!0);const s={notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!1}},t=P.profile?.preferences,u=t?{notifications:{email:t.notifications?.email??s.notifications.email,sms:t.notifications?.sms??s.notifications.sms,push:t.notifications?.push??s.notifications.push},privacy:{showEmail:t.privacy?.showEmail??s.privacy.showEmail,showPhone:t.privacy?.showPhone??s.privacy.showPhone}}:s,x={profile:{firstName:c.name.split(" ")[0]||"",lastName:c.name.split(" ").slice(1).join(" ")||"",phone:c.phone,address:{street:c.address,city:n.selectedCity||c.location.split(",")[0]?.trim()||"",district:n.selectedDistrict||"",state:n.selectedState||c.location.split(",")[1]?.trim()||"",zipCode:c.pincode||""},preferences:u}};console.log("Profile data being sent:",x),console.log("Current profile.pincode:",c.pincode),console.log("Address object being sent:",x.profile?.address),await T.updateCurrentUser(x),await $(),console.log("User data refreshed, checking pincode..."),i(!1)}catch(s){console.error("Error saving profile:",s)}finally{v(!1)}},ue=()=>{i(!1)};return p?e.jsx("div",{className:"space-y-6 pt-24",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading profile..."})})}):e.jsxs("div",{className:"space-y-6 pt-16",children:[e.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${A?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-sm text-muted-foreground",children:A?"Real-time profile updates active":"Offline mode"}),a&&e.jsxs(K,{variant:"secondary",className:"text-xs",children:["Last update: ",new Date(a.timestamp).toLocaleTimeString()]})]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:le,disabled:F,children:[e.jsx(ee,{className:`w-4 h-4 mr-2 ${F?"animate-spin":""}`}),F?"Refreshing...":"Refresh"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(ve,{className:"w-8 h-8 text-primary"}),"My Profile"]}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["View your profile information and activity. Visit ",e.jsx("span",{className:"font-medium",children:"Settings"})," to manage preferences."]})]}),e.jsxs("div",{className:"flex gap-2",children:[!r&&!p&&e.jsxs(b,{onClick:()=>i(!0),children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),e.jsxs(b,{variant:"outline",onClick:()=>window.location.href="/customer/settings",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Settings"]})]})]}),e.jsxs(ye,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(Ne,{className:"grid w-full grid-cols-2",children:[e.jsx(X,{value:"profile",children:"Profile"}),e.jsx(X,{value:"activity",children:"Activity"})]}),e.jsxs(Y,{value:"profile",className:"space-y-6",children:[e.jsx(S,{children:e.jsx(R,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(we,{className:"w-24 h-24",children:[e.jsx(be,{src:c.avatar}),e.jsx(Ce,{className:"text-2xl",children:c.name.split(" ").map(s=>s[0]).join("")})]}),r&&e.jsx(b,{size:"icon",variant:"secondary",className:"absolute -bottom-2 -right-2 rounded-full",children:e.jsx(qe,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-2xl font-bold",children:c.name}),c.verified&&e.jsxs(K,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(Pe,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Se,{className:"w-4 h-4"}),c.email]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Re,{className:"w-4 h-4"}),c.phone]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($e,{className:"w-4 h-4"}),c.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-4 h-4"}),"Joined ",c.joinDate]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:N.rating.toFixed(1)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Rating"})]}),e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:N.propertiesPosted}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Properties"})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(S,{children:[e.jsx(q,{children:e.jsx(L,{children:"Personal Information"})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Full Name"}),r?e.jsx(k,{value:c.name,onChange:s=>j(t=>({...t,name:s.target.value}))}):e.jsx("p",{className:"text-sm",children:c.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Email"}),r?e.jsx(k,{type:"email",value:c.email,onChange:s=>j(t=>({...t,email:s.target.value}))}):e.jsx("p",{className:"text-sm",children:c.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Phone"}),r?e.jsx(k,{value:c.phone,onChange:s=>j(t=>({...t,phone:s.target.value}))}):e.jsx("p",{className:"text-sm",children:c.phone})]}),r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(g,{htmlFor:"pincode",children:"PIN Code"}),e.jsx(Fe,{value:c.pincode||"",state:n.selectedState,district:n.selectedDistrict,city:n.selectedCity,onChange:(s,t)=>{if(console.log("Pincode selected:",s,t),j(u=>({...u,pincode:s})),t){console.log("Auto-filling location from pincode:",t);const u=y.getDistricts(t.state),x=y.getCities(t.state,t.district);w(m=>({...m,selectedState:t.state||"",selectedDistrict:t.district||"",selectedCity:t.city||"",districts:u,cities:x})),j(m=>({...m,location:`${t.city}, ${t.district}, ${t.state}`,pincode:s})),console.log("Profile updated with pincode and location:",{pincode:s,location:`${t.city}, ${t.district}, ${t.state}`}),G({title:"Location Auto-filled âœ“",description:`${t.city}, ${t.district}, ${t.state}`})}},placeholder:"Enter PIN code to auto-fill location...",className:"w-full"}),e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"ðŸ’¡ Type your PIN code to auto-fill state, district, and city"}),c.pincode&&n.selectedCity&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx(De,{className:"w-3 h-3"}),"Location: ",n.selectedCity,", ",n.selectedDistrict,", ",n.selectedState]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"State"}),e.jsxs(E,{value:n.selectedState,onValueChange:re,children:[e.jsx(V,{children:e.jsx(M,{placeholder:"Select state"})}),e.jsx(U,{children:n.states.map(s=>e.jsx(z,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"District"}),e.jsxs(E,{value:n.selectedDistrict,onValueChange:ie,disabled:!n.selectedState,children:[e.jsx(V,{children:e.jsx(M,{placeholder:n.selectedState?n.loadingDistricts?"Loading districts...":"Select district":"Select state first"})}),e.jsx(U,{children:n.districts.map(s=>e.jsx(z,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"City"}),e.jsxs(E,{value:n.selectedCity,onValueChange:ce,disabled:!n.selectedDistrict,children:[e.jsx(V,{children:e.jsx(M,{placeholder:n.selectedState?n.selectedDistrict?n.loadingCities?"Loading cities...":"Select city":"Select district first":"Select state first"})}),e.jsx(U,{children:n.cities.map(s=>e.jsx(z,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Street Address"}),e.jsx(k,{value:c.address,onChange:s=>j(t=>({...t,address:s.target.value})),placeholder:"House/Flat number, Street name, Area"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Location"}),e.jsx("p",{className:"text-sm",children:P?.profile?.address?ne(P.profile.address):"Not specified"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Address"}),e.jsx("p",{className:"text-sm",children:c.address||"Not specified"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"PIN Code"}),e.jsx("p",{className:"text-sm",children:P?.profile?.address?.zipCode||c.pincode||"Not provided"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Bio"}),r?e.jsx(Ae,{rows:3,value:c.bio,onChange:s=>j(t=>({...t,bio:s.target.value}))}):e.jsx("p",{className:"text-sm",children:c.bio})]}),r&&e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(b,{onClick:he,disabled:l,children:l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),e.jsxs(b,{variant:"outline",onClick:ue,children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),e.jsxs(S,{children:[e.jsx(q,{children:e.jsx(L,{children:"Account Statistics"})}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Properties Posted"})]}),e.jsx("span",{className:"font-semibold",children:N.propertiesPosted})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Inquiries Received"})]}),e.jsx("span",{className:"font-semibold",children:N.inquiriesReceived})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:"Total Views"})]}),e.jsx("span",{className:"font-semibold",children:N.totalViews.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm",children:"Total Favorites"})]}),e.jsx("span",{className:"font-semibold",children:N.totalFavorites})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm",children:"Average Rating"})]}),e.jsxs("span",{className:"font-semibold",children:[N.rating.toFixed(1),"/5.0"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm",children:"Response Rate"})]}),e.jsxs("span",{className:"font-semibold",children:[N.responseRate,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Avg Response Time"})]}),e.jsx("span",{className:"font-semibold",children:N.avgResponseTime})]})]})})]})]}),e.jsx(S,{className:"border-primary/20 bg-primary/5",children:e.jsx(R,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Q,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Manage Your Preferences"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure notifications, privacy, security, and account settings"})]})]}),e.jsx(b,{onClick:()=>window.location.href="/customer/settings",children:"Go to Settings"})]})})})]}),e.jsx(Y,{value:"activity",className:"space-y-6",children:e.jsxs(S,{children:[e.jsx(q,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Recent Activity"]})}),e.jsx(R,{children:!p&&H.length>0?e.jsx("div",{className:"space-y-4",children:H.map(s=>{const t=u=>{switch(u){case"property_posted":return"bg-green-500";case"inquiry":return"bg-blue-500";case"favorite":return"bg-red-500";case"search":return"bg-purple-500";default:return"bg-gray-500"}};return e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${t(s.type)}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:Z.formatTimeAgo(s.timestamp)})]})]},s.id)})}):p?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading activity..."})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(se,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No recent activity"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Start browsing properties to see your activity here"})]})})]})})]})]})};export{is as default};
