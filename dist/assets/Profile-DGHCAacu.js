import{j as e}from"./ui-DHQhougw.js";import{d as s,r as t}from"./router-Bi51YGN-.js";import{r as a,a3 as i,l as r,w as c,t as l,aC as n,f as o,q as d,an as m,a5 as p,a6 as u,a7 as h,al as x,a as g,e as f,a8 as j,a9 as v,aa as y,B as N,M as w,P as b,j as S,b as C,c as P,L as $,I as k,C as D,S as R,m as F,n as q,o as A,p as T,T as I,ak as V,Z as E,E as L,ag as M,as as U}from"./index-D1QtVa1_.js";import{P as z}from"./PincodeAutocomplete-D85HrR77.js";import{u as O}from"./use-mobile-WsBtvUz6.js";import{c as J}from"./customerDashboardService-B-MZB4Mw.js";import{u as _}from"./uploadService-Bwy6d1dt.js";import{R as H}from"./refresh-cw-D_CHpXwy.js";import{P as B}from"./pen-line-Bj0tueXr.js";import{C as G}from"./camera-rWd_dZkY.js";import{S as Y}from"./shield-Rk2Io8SO.js";import{C as Z}from"./calendar-5pfh_bF6.js";import{T as K}from"./trending-up-CPzpWpBE.js";import{A as Q}from"./activity-DFEtCe1V.js";import"./vendor-eVk5PToZ.js";import"./command-DaQwuKCr.js";const W=new class{baseUrl="https://api.buildhomemartsquares.com/api";async makeRequest(e,s={}){const t=`${this.baseUrl}${e}`,i={headers:{"Content-Type":"application/json",...s.headers},...s},r=a.getToken();r&&(i.headers={...i.headers,Authorization:`Bearer ${r}`});try{const e=await fetch(t,i);if(!e.ok){const s=await e.json().catch(()=>({success:!1,message:`HTTP ${e.status}: ${e.statusText}`}));throw new Error(s.message||"An error occurred")}return await e.json()}catch(c){throw c}}async getCustomerProperties(e={}){try{const s=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{null!=t&&""!==t&&s.append(e,t.toString())});const t="/customer/properties"+(s.toString()?`?${s.toString()}`:"");return await this.makeRequest(t)}catch(s){return{success:!0,data:{properties:[],pagination:{currentPage:1,totalPages:0,totalProperties:0,hasNextPage:!1,hasPrevPage:!1},stats:{totalProperties:0,activeProperties:0,rentedProperties:0,soldProperties:0,draftProperties:0,pendingProperties:0,totalViews:0,totalInquiries:0,totalFavorites:0,totalRevenue:0,monthlyRevenue:0,averageViews:0,averageInquiries:0,conversionRate:0}}}}}async getCustomerPropertyStats(){try{return await this.makeRequest("/customer/properties/stats")}catch(e){return{success:!0,data:{totalProperties:0,activeProperties:0,rentedProperties:0,soldProperties:0,draftProperties:0,pendingProperties:0,totalViews:0,totalInquiries:0,totalFavorites:0,totalRevenue:0,monthlyRevenue:0,averageViews:0,averageInquiries:0,conversionRate:0}}}}async getProperty(e){try{return await this.makeRequest(`/customer/properties/${e}`)}catch(s){throw s}}async createProperty(e){try{return await this.makeRequest("/customer/properties",{method:"POST",body:JSON.stringify(e)})}catch(s){throw s}}async updateProperty(e,s){try{return await this.makeRequest(`/customer/properties/${e}`,{method:"PUT",body:JSON.stringify(s)})}catch(t){throw t}}async deleteProperty(e){try{await this.makeRequest(`/customer/properties/${e}`,{method:"DELETE"})}catch(s){throw s}}async togglePropertyStatus(e,s){try{return await this.makeRequest(`/customer/properties/${e}/status`,{method:"PATCH",body:JSON.stringify({status:s})})}catch(t){throw t}}async togglePropertyFeatured(e,s){try{return await this.makeRequest(`/customer/properties/${e}/featured`,{method:"PATCH",body:JSON.stringify({featured:s})})}catch(t){const e=t.response?.data||t;throw(e.upgradeRequired||e.limitReached)&&function(){throw new Error("Function not implemented.")}((e.limitReached,e.message)),t}}async getPropertyAnalytics(e,s="month"){try{return await this.makeRequest(`/customer/properties/${e}/analytics?period=${s}`)}catch(t){return{success:!0,data:{views:[],inquiries:[],favorites:[],conversionRate:0,avgResponseTime:"N/A",topReferrers:[],engagement:{totalClicks:0,phoneClicks:0,emailClicks:0,messageClicks:0}}}}}formatPrice(e,s){return"rent"===s?`â‚¹${e.toLocaleString("en-IN")}/month`:"lease"===s?`â‚¹${e.toLocaleString("en-IN")}/year`:e>=1e7?`â‚¹${(e/1e7).toFixed(1)} Cr`:e>=1e5?`â‚¹${(e/1e5).toFixed(1)} Lac`:`â‚¹${e.toLocaleString("en-IN")}`}formatArea(e){return e.builtUp?`${e.builtUp} ${e.unit}`:e.plot?`${e.plot} ${e.unit}`:e.carpet?`${e.carpet} ${e.unit}`:"Area not specified"}getStatusColor(e){switch(e){case"active":return"bg-green-500";case"rented":return"bg-blue-500";case"sold":return"bg-purple-500";case"pending":return"bg-yellow-500";case"draft":default:return"bg-gray-500";case"inactive":return"bg-red-500"}}getStatusText(e){switch(e){case"active":return"Active";case"rented":return"Rented";case"sold":return"Sold";case"pending":return"Under Review";case"draft":return"Draft";case"inactive":return"Inactive";default:return e}}formatTimeAgo(e){const s=new Date(e),t=(new Date).getTime()-s.getTime(),a=Math.floor(t/6e4),i=Math.floor(a/60),r=Math.floor(i/24);return a<1?"Just now":a<60?`${a} min ago`:i<24?`${i} hour${i>1?"s":""} ago`:r<7?`${r} day${r>1?"s":""} ago`:s.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}getPrimaryImage(e){const s=e.images.find(e=>e.isPrimary);return s?.url||e.images[0]?.url||"/placeholder-property.jpg"}getDaysOnMarket(e){const s=new Date(e),t=(new Date).getTime()-s.getTime();return Math.floor(t/864e5)}calculateMonthlyRevenue(e){return e.filter(e=>"rented"===e.status&&"rent"===e.listingType).reduce((e,s)=>e+s.price,0)}calculateTotalRevenue(e){const s=e.filter(e=>"sold"===e.status);e.filter(e=>"rented"===e.status);return s.reduce((e,s)=>e+s.price,0)+12*this.calculateMonthlyRevenue(e)}};const X=()=>{const a=s(),{isConnected:X,lastEvent:ee}=i(),se=O(),[te,ae]=t.useState(!1),[ie,re]=t.useState(!0),[ce,le]=t.useState(!1),[ne,oe]=t.useState(!1),[de,me]=t.useState(null),[pe,ue]=t.useState(!1),he=t.useRef(null),[xe,ge]=t.useState({name:"",email:"",phone:"",location:"",address:"",pincode:"",bio:"",joinDate:"",avatar:"",verified:!1}),[fe,je]=t.useState({states:[],districts:[],cities:[],selectedState:"",selectedDistrict:"",selectedCity:"",loadingStates:!1,loadingDistricts:!1,loadingCities:!1}),[ve,ye]=t.useState({inquiriesSent:0,savedSearches:0,propertiesViewed:0,totalFavorites:0,ownedProperties:0}),[Ne,we]=t.useState([]);t.useEffect(()=>{(async()=>{try{await r.initialize();const e=r.getStates();je(s=>({...s,states:e}))}catch(e){}})()},[]);const be=t.useCallback(e=>{je(s=>({...s,selectedState:e,selectedDistrict:"",selectedCity:"",districts:r.getDistricts(e),cities:[]})),ge(s=>({...s,location:`${e}`}))},[]),Se=t.useCallback(e=>{je(s=>{const t=s.selectedState;return{...s,selectedDistrict:e,selectedCity:"",cities:r.getCities(t,e)}}),ge(s=>({...s,location:`${e}, ${fe.selectedState}`}))},[fe.selectedState]),Ce=t.useCallback(e=>{je(s=>({...s,selectedCity:e})),ge(s=>({...s,location:`${e}, ${fe.selectedDistrict}, ${fe.selectedState}`}))},[fe.selectedState,fe.selectedDistrict]),Pe=t.useCallback(e=>{if(!e)return"Not specified";const s=[];return e.city&&s.push(e.city),e.district&&e.district!==e.city&&s.push(e.district),e.state&&s.push(e.state),s.length>0?s.join(", "):"Not specified"},[]),$e=t.useCallback(async()=>{try{re(!0);const[e,s,t]=await Promise.all([c.getCurrentUser(),J.getCustomerDashboardData().catch(()=>null),W.getCustomerPropertyStats().catch(()=>null)]),a=e.data.user;me(a);const i=a.profile.address,l=i?`${i.city||""}, ${i.state||""}`.replace(/^,\s*|,\s*$/g,""):"";if(ge({name:c.getFullName(a),email:a.email,phone:a.profile.phone||"",location:l,address:i?.street||"",pincode:i?.zipCode||"",bio:"",joinDate:c.formatCreationDate(a.createdAt),avatar:a.profile.avatar||"",verified:a.profile.emailVerified||!1}),i?.state||i?.city){const e=i.state||"",s=i.city||"";if(je(t=>({...t,selectedState:e,selectedCity:s,districts:e?r.getDistricts(e):[],cities:e?r.getCities(e,""):[]})),s&&e){const t=r.getDistricts(e);for(const a of t){const t=r.getCities(e,a);if(t.includes(s)){je(e=>({...e,selectedDistrict:a,cities:t}));break}}}}if(s?.success){const e=s.data.stats;ye(s=>({...s,inquiriesSent:e.activeInquiries||0,propertiesViewed:e.propertiesViewed||0,totalFavorites:e.savedFavorites||0})),we(s.data.recentActivities.map(e=>({id:e._id,type:e.type,message:e.message,timestamp:e.time,icon:e.icon})))}if(t?.success){const e=t.data;ye(s=>({...s,ownedProperties:e.totalProperties||0,savedSearches:e.pendingApproval||0}))}}catch(e){l({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{re(!1)}},[]),ke=t.useCallback(async()=>{oe(!0),await $e(),oe(!1)},[]);t.useEffect(()=>{$e()},[]);const De=t.useCallback(()=>{$e()},[]),Re=t.useCallback(()=>{ye(e=>({...e,inquiriesSent:e.inquiriesSent+1}))},[]),Fe=t.useCallback(()=>{ye(e=>({...e,propertiesViewed:e.propertiesViewed+1}))},[]),qe=t.useCallback(e=>{"add"===e.action?ye(e=>({...e,totalFavorites:e.totalFavorites+1})):"remove"===e.action&&ye(e=>({...e,totalFavorites:Math.max(0,e.totalFavorites-1)}))},[]);n("profile_updated",De),n("property_inquiry",Re),n("property_viewed",Fe),n("property_favorited",qe);return ie?e.jsx("div",{className:"space-y-6 pt-24",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading profile..."})})}):e.jsxs("div",{className:"space-y-6 pt-16",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(o,{variant:"outline",size:"sm",onClick:ke,disabled:ne,children:[e.jsx(H,{className:"w-4 h-4 mr-2 "+(ne?"animate-spin":"")}),ne?"Refreshing...":"Refresh"]})}),e.jsxs("div",{className:"flex "+(se?"flex-col gap-4":"items-center justify-between"),children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"font-bold flex items-center gap-2 "+(se?"text-2xl":"text-3xl"),children:[e.jsx(d,{className:"w-8 h-8 text-primary"}),"My Profile"]}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["View your profile information and activity. Visit ",e.jsx("span",{className:"font-medium",children:"Settings"})," to manage preferences."]})]}),e.jsxs("div",{className:"flex gap-2 "+(se?"flex-col w-full":""),children:[!te&&!ie&&e.jsxs(o,{onClick:()=>ae(!0),className:se?"w-full":"",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),e.jsxs(o,{variant:"outline",onClick:()=>a("/customer/settings"),className:se?"w-full":"",children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"Settings"]})]})]}),e.jsxs(p,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(u,{className:"grid w-full grid-cols-2",children:[e.jsx(h,{value:"profile",children:"Profile"}),e.jsx(h,{value:"activity",children:"Activity"})]}),e.jsxs(x,{value:"profile",className:"space-y-6",children:[e.jsx(g,{children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:`flex ${se?"flex-col":"flex-col md:flex-row"} items-start md:items-center gap-6`,children:[e.jsxs("div",{className:"relative self-center md:self-start",children:[e.jsxs(j,{className:""+(se?"w-20 h-20":"w-24 h-24"),children:[e.jsx(v,{src:xe.avatar}),e.jsx(y,{className:""+(se?"text-xl":"text-2xl"),children:xe.name.split(" ").map(e=>e[0]).join("")})]}),e.jsx("input",{ref:he,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:async e=>{const s=e.target.files?.[0];if(!s)return;const t=_.validateImageFile(s);if(t.valid)try{ue(!0);const e=await _.compressImage(s),t=await _.uploadAvatar(e);ge(e=>({...e,avatar:t})),de&&await c.updateCurrentUser({profile:{...de.profile,avatar:t}}),l({title:"Success",description:"Profile picture updated successfully!"}),await $e()}catch(a){l({title:"Upload Failed",description:"Failed to upload profile picture. Please try again.",variant:"destructive"})}finally{ue(!1),he.current&&(he.current.value="")}else l({title:"Invalid File",description:t.error,variant:"destructive"})},className:"hidden"}),e.jsx(o,{size:"icon",variant:"secondary",className:"absolute -bottom-2 -right-2 rounded-full",onClick:()=>he.current?.click(),disabled:pe,children:pe?e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):e.jsx(G,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 space-y-2 text-center md:text-left",children:[e.jsxs("div",{className:"flex "+(se?"flex-col gap-2":"items-center gap-2"),children:[e.jsx("h2",{className:(se?"text-xl":"text-2xl")+" font-bold",children:xe.name}),xe.verified&&e.jsxs(N,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(Y,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsxs("div",{className:`flex ${se?"flex-col gap-2":"items-center gap-4"} text-muted-foreground`,children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"w-4 h-4"}),xe.email]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"w-4 h-4"}),xe.phone]})]}),e.jsxs("div",{className:`flex ${se?"flex-col gap-2":"items-center gap-4"} text-muted-foreground`,children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"w-4 h-4"}),xe.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"w-4 h-4"}),"Joined ",xe.joinDate]})]})]}),e.jsxs("div",{className:"grid gap-4 text-center "+(se?"grid-cols-2 w-full":"grid-cols-2"),children:[e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:ve.ownedProperties}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Properties"})]}),e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:ve.totalFavorites}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Favorites"})]})]})]})})}),e.jsxs("div",{className:"grid gap-6 "+(se?"grid-cols-1":"grid-cols-1 lg:grid-cols-2"),children:[e.jsxs(g,{children:[e.jsx(C,{children:e.jsx(P,{children:"Personal Information"})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 "+(se?"grid-cols-1":"grid-cols-1 md:grid-cols-2"),children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Full Name"}),te?e.jsx(k,{value:xe.name,onChange:e=>ge(s=>({...s,name:e.target.value}))}):e.jsx("p",{className:"text-sm",children:xe.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Email"}),te?e.jsx(k,{type:"email",value:xe.email,onChange:e=>ge(s=>({...s,email:e.target.value}))}):e.jsx("p",{className:"text-sm",children:xe.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Phone"}),te?e.jsx(k,{type:"tel",value:xe.phone,onChange:e=>{const s=e.target.value.replace(/\D/g,"");s.length<=10&&ge(e=>({...e,phone:s}))},placeholder:"10 digit mobile number",maxLength:10}):e.jsx("p",{className:"text-sm",children:xe.phone})]}),te?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx($,{htmlFor:"pincode",children:"PIN Code"}),e.jsx(z,{value:xe.pincode||"",state:fe.selectedState,district:fe.selectedDistrict,city:fe.selectedCity,onChange:(e,s)=>{if(ge(s=>({...s,pincode:e})),s){const t=r.getDistricts(s.state),a=r.getCities(s.state,s.district);je(e=>({...e,selectedState:s.state||"",selectedDistrict:s.district||"",selectedCity:s.city||"",districts:t,cities:a})),ge(t=>({...t,location:`${s.city}, ${s.district}, ${s.state}`,pincode:e})),l({title:"Location Auto-filled âœ“",description:`${s.city}, ${s.district}, ${s.state}`})}},placeholder:"Enter PIN code to auto-fill location...",className:"w-full"}),e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"ðŸ’¡ Type your PIN code to auto-fill state, district, and city"}),xe.pincode&&fe.selectedCity&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx(D,{className:"w-3 h-3"}),"Location: ",fe.selectedCity,", ",fe.selectedDistrict,", ",fe.selectedState]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"State"}),e.jsxs(R,{value:fe.selectedState,onValueChange:be,children:[e.jsx(F,{children:e.jsx(q,{placeholder:"Select state"})}),e.jsx(A,{children:fe.states.map(s=>e.jsx(T,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"District"}),e.jsxs(R,{value:fe.selectedDistrict,onValueChange:Se,disabled:!fe.selectedState,children:[e.jsx(F,{children:e.jsx(q,{placeholder:fe.selectedState?fe.loadingDistricts?"Loading districts...":"Select district":"Select state first"})}),e.jsx(A,{children:fe.districts.map(s=>e.jsx(T,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"City"}),e.jsxs(R,{value:fe.selectedCity,onValueChange:Ce,disabled:!fe.selectedDistrict,children:[e.jsx(F,{children:e.jsx(q,{placeholder:fe.selectedState?fe.selectedDistrict?fe.loadingCities?"Loading cities...":"Select city":"Select district first":"Select state first"})}),e.jsx(A,{children:fe.cities.map(s=>e.jsx(T,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Street Address"}),e.jsx(k,{value:xe.address,onChange:e=>ge(s=>({...s,address:e.target.value})),placeholder:"House/Flat number, Street name, Area"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Location"}),e.jsx("p",{className:"text-sm",children:de?.profile?.address?Pe(de.profile.address):"Not specified"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Address"}),e.jsx("p",{className:"text-sm",children:xe.address||"Not specified"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"PIN Code"}),e.jsx("p",{className:"text-sm",children:de?.profile?.address?.zipCode||xe.pincode||"Not provided"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Bio"}),te?e.jsx(I,{rows:3,value:xe.bio,onChange:e=>ge(s=>({...s,bio:e.target.value}))}):e.jsx("p",{className:"text-sm",children:xe.bio})]}),te&&e.jsxs("div",{className:"flex gap-2 pt-4 "+(se?"flex-col":""),children:[e.jsx(o,{onClick:async()=>{if(de)try{le(!0);const e={notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!1}},s=de.profile?.preferences,t=s?{notifications:{email:s.notifications?.email??e.notifications.email,sms:s.notifications?.sms??e.notifications.sms,push:s.notifications?.push??e.notifications.push},privacy:{showEmail:s.privacy?.showEmail??e.privacy.showEmail,showPhone:s.privacy?.showPhone??e.privacy.showPhone}}:e,a={profile:{firstName:xe.name.split(" ")[0]||"",lastName:xe.name.split(" ").slice(1).join(" ")||"",phone:xe.phone,address:{street:xe.address,city:fe.selectedCity||xe.location.split(",")[0]?.trim()||"",district:fe.selectedDistrict||"",state:fe.selectedState||xe.location.split(",")[1]?.trim()||"",zipCode:xe.pincode||""},preferences:t}};await c.updateCurrentUser(a),await $e(),ae(!1)}catch(e){}finally{le(!1)}},disabled:ce,className:se?"w-full":"",children:ce?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),e.jsxs(o,{variant:"outline",onClick:()=>{ae(!1)},className:se?"w-full":"",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),e.jsxs(g,{children:[e.jsx(C,{children:e.jsx(P,{children:"Account Statistics"})}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Owned Properties"})]}),e.jsx("span",{className:"font-semibold",children:ve.ownedProperties})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Inquiries Sent"})]}),e.jsx("span",{className:"font-semibold",children:ve.inquiriesSent})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:"Properties Viewed"})]}),e.jsx("span",{className:"font-semibold",children:ve.propertiesViewed.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm",children:"Total Favorites"})]}),e.jsx("span",{className:"font-semibold",children:ve.totalFavorites})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm",children:"Saved Searches"})]}),e.jsx("span",{className:"font-semibold",children:ve.savedSearches})]})]})})]})]}),e.jsx(g,{className:"border-primary/20 bg-primary/5",children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex "+(se?"flex-col gap-4":"items-center justify-between"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Manage Your Preferences"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure notifications, privacy, security, and account settings"})]})]}),e.jsx(o,{onClick:()=>a("/customer/settings"),className:se?"w-full":"",children:"Go to Settings"})]})})})]}),e.jsx(x,{value:"activity",className:"space-y-6",children:e.jsxs(g,{children:[e.jsx(C,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5"}),"Recent Activity"]})}),e.jsx(f,{children:!ie&&Ne.length>0?e.jsx("div",{className:"space-y-4",children:Ne.map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${(e=>{switch(e){case"property_posted":return"bg-green-500";case"inquiry":return"bg-blue-500";case"favorite":return"bg-red-500";case"search":return"bg-purple-500";default:return"bg-gray-500"}})(s.type)}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:J.formatTimeAgo(s.timestamp)})]})]},s.id))}):ie?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading activity..."})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No recent activity"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Start browsing properties to see your activity here"})]})})]})})]})]})};export{X as default};
