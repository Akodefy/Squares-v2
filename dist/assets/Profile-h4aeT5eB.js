import{j as e}from"./ui-CMGlPv8M.js";import{r as o}from"./router-02yfTqxa.js";import{A as ye,a3 as Ne,m as y,R as $,t as R,aK as A,f as C,y as we,aw as ee,a5 as be,a6 as Ce,a7 as se,au as te,a as D,e as k,a8 as Se,a9 as Pe,aa as $e,B as Re,S as De,M as ke,z as Fe,h as Ae,b as L,c as V,L as j,I,C as Ie,r as U,s as M,v as z,w as O,x as B,T as Te,at as qe,X as Ee,E as Le,ag as Ve,aB as Ue}from"./index-DGiQKbnC.js";import{P as Me}from"./PincodeAutocomplete-CMNaErRG.js";import{u as ze}from"./use-mobile-CFRG74LA.js";import{c as ae}from"./customerDashboardService-qSUKKg7E.js";import{u as H}from"./uploadService-WVAjc4qR.js";import{R as re}from"./refresh-cw-bU1KP5oX.js";import{P as Oe}from"./pen-line-BZo3xtAO.js";import{C as Be}from"./camera-B-mROwV6.js";import{C as He}from"./calendar-CnnZ5ZoT.js";import{T as Je}from"./trending-up-DL-k5KbV.js";import{A as J}from"./activity-B_LWE1x-.js";import"./vendor-Dazix4UH.js";class _e{baseUrl="https://api.akodefy.com/api";async makeRequest(r,a={}){const i=`${this.baseUrl}${r}`,d={headers:{"Content-Type":"application/json",...a.headers},...a},h=ye.getToken();h&&(d.headers={...d.headers,Authorization:`Bearer ${h}`});try{const n=await fetch(i,d);if(!n.ok){const v=await n.json().catch(()=>({success:!1,message:`HTTP ${n.status}: ${n.statusText}`}));throw new Error(v.message||"An error occurred")}return await n.json()}catch(n){throw console.error("API request failed:",n),n}}async getCustomerProperties(r={}){try{const a=new URLSearchParams;Object.entries(r).forEach(([h,n])=>{n!=null&&n!==""&&a.append(h,n.toString())});const i=`/customer/properties${a.toString()?`?${a.toString()}`:""}`;return await this.makeRequest(i)}catch(a){return console.error("Failed to fetch customer properties:",a),{success:!0,data:{properties:[],pagination:{currentPage:1,totalPages:0,totalProperties:0,hasNextPage:!1,hasPrevPage:!1},stats:{totalProperties:0,activeProperties:0,rentedProperties:0,soldProperties:0,draftProperties:0,pendingProperties:0,totalViews:0,totalInquiries:0,totalFavorites:0,totalRevenue:0,monthlyRevenue:0,averageViews:0,averageInquiries:0,conversionRate:0}}}}}async getCustomerPropertyStats(){try{return await this.makeRequest("/customer/properties/stats")}catch(r){return console.error("Failed to fetch customer property stats:",r),{success:!0,data:{totalProperties:0,activeProperties:0,rentedProperties:0,soldProperties:0,draftProperties:0,pendingProperties:0,totalViews:0,totalInquiries:0,totalFavorites:0,totalRevenue:0,monthlyRevenue:0,averageViews:0,averageInquiries:0,conversionRate:0}}}}async getProperty(r){try{return await this.makeRequest(`/customer/properties/${r}`)}catch(a){throw console.error("Failed to fetch property:",a),a}}async createProperty(r){try{return await this.makeRequest("/customer/properties",{method:"POST",body:JSON.stringify(r)})}catch(a){throw console.error("Failed to create property:",a),a}}async updateProperty(r,a){try{return await this.makeRequest(`/customer/properties/${r}`,{method:"PUT",body:JSON.stringify(a)})}catch(i){throw console.error("Failed to update property:",i),i}}async deleteProperty(r){try{await this.makeRequest(`/customer/properties/${r}`,{method:"DELETE"})}catch(a){throw console.error("Failed to delete property:",a),a}}async togglePropertyStatus(r,a){try{return await this.makeRequest(`/customer/properties/${r}/status`,{method:"PATCH",body:JSON.stringify({status:a})})}catch(i){throw console.error("Failed to toggle property status:",i),i}}async togglePropertyFeatured(r,a){try{return await this.makeRequest(`/customer/properties/${r}/featured`,{method:"PATCH",body:JSON.stringify({featured:a})})}catch(i){const d=i.response?.data||i;throw(d.upgradeRequired||d.limitReached)&&Ke({title:d.limitReached?"Featured Limit Reached":"Upgrade Required",description:`${d.message||"Failed to toggle property featured status"} Visit the Subscription Plans page to upgrade.`}),console.error("Failed to toggle property featured status:",i),i}}async getPropertyAnalytics(r,a="month"){try{return await this.makeRequest(`/customer/properties/${r}/analytics?period=${a}`)}catch(i){return console.error("Failed to fetch property analytics:",i),{success:!0,data:{views:[],inquiries:[],favorites:[],conversionRate:0,avgResponseTime:"N/A",topReferrers:[],engagement:{totalClicks:0,phoneClicks:0,emailClicks:0,messageClicks:0}}}}}formatPrice(r,a){return a==="rent"?`â‚¹${r.toLocaleString("en-IN")}/month`:a==="lease"?`â‚¹${r.toLocaleString("en-IN")}/year`:r>=1e7?`â‚¹${(r/1e7).toFixed(1)} Cr`:r>=1e5?`â‚¹${(r/1e5).toFixed(1)} Lac`:`â‚¹${r.toLocaleString("en-IN")}`}formatArea(r){return r.builtUp?`${r.builtUp} ${r.unit}`:r.plot?`${r.plot} ${r.unit}`:r.carpet?`${r.carpet} ${r.unit}`:"Area not specified"}getStatusColor(r){switch(r){case"active":return"bg-green-500";case"rented":return"bg-blue-500";case"sold":return"bg-purple-500";case"pending":return"bg-yellow-500";case"draft":return"bg-gray-500";case"inactive":return"bg-red-500";default:return"bg-gray-500"}}getStatusText(r){switch(r){case"active":return"Active";case"rented":return"Rented";case"sold":return"Sold";case"pending":return"Under Review";case"draft":return"Draft";case"inactive":return"Inactive";default:return r}}formatTimeAgo(r){const a=new Date(r),d=new Date().getTime()-a.getTime(),h=Math.floor(d/(1e3*60)),n=Math.floor(h/60),v=Math.floor(n/24);return h<1?"Just now":h<60?`${h} min ago`:n<24?`${n} hour${n>1?"s":""} ago`:v<7?`${v} day${v>1?"s":""} ago`:a.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}getPrimaryImage(r){return r.images.find(i=>i.isPrimary)?.url||r.images[0]?.url||"/placeholder-property.jpg"}getDaysOnMarket(r){const a=new Date(r),d=new Date().getTime()-a.getTime();return Math.floor(d/(1e3*60*60*24))}calculateMonthlyRevenue(r){return r.filter(a=>a.status==="rented"&&a.listingType==="rent").reduce((a,i)=>a+i.price,0)}calculateTotalRevenue(r){const a=r.filter(n=>n.status==="sold");r.filter(n=>n.status==="rented");const i=a.reduce((n,v)=>n+v.price,0),h=this.calculateMonthlyRevenue(r)*12;return i+h}}const Ge=new _e;function Ke(_){throw new Error("Function not implemented.")}const os=()=>{const{isConnected:_,lastEvent:r}=Ne(),a=ze(),[i,d]=o.useState(!1),[h,n]=o.useState(!0),[v,G]=o.useState(!1),[T,K]=o.useState(!1),[N,ie]=o.useState(null),[X,Y]=o.useState(!1),F=o.useRef(null),[c,g]=o.useState({name:"",email:"",phone:"",location:"",address:"",pincode:"",bio:"",joinDate:"",avatar:"",verified:!1}),[l,w]=o.useState({states:[],districts:[],cities:[],selectedState:"",selectedDistrict:"",selectedCity:"",loadingStates:!1,loadingDistricts:!1,loadingCities:!1}),[b,S]=o.useState({inquiriesSent:0,savedSearches:0,propertiesViewed:0,totalFavorites:0,ownedProperties:0}),[Q,ce]=o.useState([]);o.useEffect(()=>{(async()=>{try{await y.initialize();const t=y.getStates();w(u=>({...u,states:t}))}catch(t){console.error("Error initializing location service:",t)}})()},[]);const le=o.useCallback(s=>{w(t=>({...t,selectedState:s,selectedDistrict:"",selectedCity:"",districts:y.getDistricts(s),cities:[]})),g(t=>({...t,location:`${s}`}))},[]),ne=o.useCallback(s=>{w(t=>{const u=t.selectedState;return{...t,selectedDistrict:s,selectedCity:"",cities:y.getCities(u,s)}}),g(t=>({...t,location:`${s}, ${l.selectedState}`}))},[l.selectedState]),oe=o.useCallback(s=>{w(t=>({...t,selectedCity:s})),g(t=>({...t,location:`${s}, ${l.selectedDistrict}, ${l.selectedState}`}))},[l.selectedState,l.selectedDistrict]),de=o.useCallback(s=>{if(!s)return"Not specified";const t=[];return s.city&&t.push(s.city),s.district&&s.district!==s.city&&t.push(s.district),s.state&&t.push(s.state),t.length>0?t.join(", "):"Not specified"},[]),P=o.useCallback(async()=>{try{n(!0);const[s,t,u]=await Promise.all([$.getCurrentUser(),ae.getCustomerDashboardData().catch(()=>null),Ge.getCustomerPropertyStats().catch(()=>null)]),m=s.data.user;ie(m);const p=m.profile.address,q=p?`${p.city||""}, ${p.state||""}`.replace(/^,\s*|,\s*$/g,""):"";if(console.log("Loading user data, address:",p),console.log("Existing zipCode from database:",p?.zipCode),g({name:$.getFullName(m),email:m.email,phone:m.profile.phone||"",location:q,address:p?.street||"",pincode:p?.zipCode||"",bio:"",joinDate:$.formatCreationDate(m.createdAt),avatar:m.profile.avatar||"",verified:m.profile.emailVerified||!1}),p?.state||p?.city){const x=p.state||"",f=p.city||"";if(w(E=>({...E,selectedState:x,selectedCity:f,districts:x?y.getDistricts(x):[],cities:x?y.getCities(x,""):[]})),f&&x){const E=y.getDistricts(x);for(const W of E){const Z=y.getCities(x,W);if(Z.includes(f)){w(ve=>({...ve,selectedDistrict:W,cities:Z}));break}}}}if(t?.success){const x=t.data.stats;S(f=>({...f,inquiriesSent:x.activeInquiries||0,propertiesViewed:x.propertiesViewed||0,totalFavorites:x.savedFavorites||0})),ce(t.data.recentActivities.map(f=>({id:f._id,type:f.type,message:f.message,timestamp:f.time,icon:f.icon})))}if(u?.success){const x=u.data;S(f=>({...f,ownedProperties:x.totalProperties||0,savedSearches:x.pendingApproval||0}))}}catch(s){console.error("Error loading user data:",s),R({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{n(!1)}},[]),me=o.useCallback(async()=>{K(!0),await P(),K(!1)},[]);o.useEffect(()=>{P()},[]);const pe=o.useCallback(()=>{P()},[]),ue=o.useCallback(()=>{S(s=>({...s,inquiriesSent:s.inquiriesSent+1}))},[]),he=o.useCallback(()=>{S(s=>({...s,propertiesViewed:s.propertiesViewed+1}))},[]),xe=o.useCallback(s=>{s.action==="add"?S(t=>({...t,totalFavorites:t.totalFavorites+1})):s.action==="remove"&&S(t=>({...t,totalFavorites:Math.max(0,t.totalFavorites-1)}))},[]);A("profile_updated",pe),A("property_inquiry",ue),A("property_viewed",he),A("property_favorited",xe);const fe=async()=>{if(N)try{G(!0);const s={notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!1}},t=N.profile?.preferences,u=t?{notifications:{email:t.notifications?.email??s.notifications.email,sms:t.notifications?.sms??s.notifications.sms,push:t.notifications?.push??s.notifications.push},privacy:{showEmail:t.privacy?.showEmail??s.privacy.showEmail,showPhone:t.privacy?.showPhone??s.privacy.showPhone}}:s,m={profile:{firstName:c.name.split(" ")[0]||"",lastName:c.name.split(" ").slice(1).join(" ")||"",phone:c.phone,address:{street:c.address,city:l.selectedCity||c.location.split(",")[0]?.trim()||"",district:l.selectedDistrict||"",state:l.selectedState||c.location.split(",")[1]?.trim()||"",zipCode:c.pincode||""},preferences:u}};console.log("Profile data being sent:",m),console.log("Current profile.pincode:",c.pincode),console.log("Address object being sent:",m.profile?.address),await $.updateCurrentUser(m),await P(),console.log("User data refreshed, checking pincode..."),d(!1)}catch(s){console.error("Error saving profile:",s)}finally{G(!1)}},ge=()=>{d(!1)},je=async s=>{const t=s.target.files?.[0];if(!t)return;const u=H.validateImageFile(t);if(!u.valid){R({title:"Invalid File",description:u.error,variant:"destructive"});return}try{Y(!0);const m=await H.compressImage(t),p=await H.uploadAvatar(m);g(q=>({...q,avatar:p})),N&&await $.updateCurrentUser({profile:{...N.profile,avatar:p}}),R({title:"Success",description:"Profile picture updated successfully!"}),await P()}catch(m){console.error("Avatar upload error:",m),R({title:"Upload Failed",description:"Failed to upload profile picture. Please try again.",variant:"destructive"})}finally{Y(!1),F.current&&(F.current.value="")}};return h?e.jsx("div",{className:"space-y-6 pt-24",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading profile..."})})}):e.jsxs("div",{className:"space-y-6 pt-16",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(C,{variant:"outline",size:"sm",onClick:me,disabled:T,children:[e.jsx(re,{className:`w-4 h-4 mr-2 ${T?"animate-spin":""}`}),T?"Refreshing...":"Refresh"]})}),e.jsxs("div",{className:`flex ${a?"flex-col gap-4":"items-center justify-between"}`,children:[e.jsxs("div",{children:[e.jsxs("h1",{className:`font-bold flex items-center gap-2 ${a?"text-2xl":"text-3xl"}`,children:[e.jsx(we,{className:"w-8 h-8 text-primary"}),"My Profile"]}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["View your profile information and activity. Visit ",e.jsx("span",{className:"font-medium",children:"Settings"})," to manage preferences."]})]}),e.jsxs("div",{className:`flex gap-2 ${a?"flex-col w-full":""}`,children:[!i&&!h&&e.jsxs(C,{onClick:()=>d(!0),className:a?"w-full":"",children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),e.jsxs(C,{variant:"outline",onClick:()=>window.location.href="/customer/settings",className:a?"w-full":"",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Settings"]})]})]}),e.jsxs(be,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(Ce,{className:"grid w-full grid-cols-2",children:[e.jsx(se,{value:"profile",children:"Profile"}),e.jsx(se,{value:"activity",children:"Activity"})]}),e.jsxs(te,{value:"profile",className:"space-y-6",children:[e.jsx(D,{children:e.jsx(k,{className:"pt-6",children:e.jsxs("div",{className:`flex ${a?"flex-col":"flex-col md:flex-row"} items-start md:items-center gap-6`,children:[e.jsxs("div",{className:"relative self-center md:self-start",children:[e.jsxs(Se,{className:`${a?"w-20 h-20":"w-24 h-24"}`,children:[e.jsx(Pe,{src:c.avatar}),e.jsx($e,{className:`${a?"text-xl":"text-2xl"}`,children:c.name.split(" ").map(s=>s[0]).join("")})]}),e.jsx("input",{ref:F,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:je,className:"hidden"}),e.jsx(C,{size:"icon",variant:"secondary",className:"absolute -bottom-2 -right-2 rounded-full",onClick:()=>F.current?.click(),disabled:X,children:X?e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):e.jsx(Be,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 space-y-2 text-center md:text-left",children:[e.jsxs("div",{className:`flex ${a?"flex-col gap-2":"items-center gap-2"}`,children:[e.jsx("h2",{className:`${a?"text-xl":"text-2xl"} font-bold`,children:c.name}),c.verified&&e.jsxs(Re,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(De,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsxs("div",{className:`flex ${a?"flex-col gap-2":"items-center gap-4"} text-muted-foreground`,children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ke,{className:"w-4 h-4"}),c.email]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Fe,{className:"w-4 h-4"}),c.phone]})]}),e.jsxs("div",{className:`flex ${a?"flex-col gap-2":"items-center gap-4"} text-muted-foreground`,children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ae,{className:"w-4 h-4"}),c.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(He,{className:"w-4 h-4"}),"Joined ",c.joinDate]})]})]}),e.jsxs("div",{className:`grid gap-4 text-center ${a?"grid-cols-2 w-full":"grid-cols-2"}`,children:[e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:b.ownedProperties}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Properties"})]}),e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:b.totalFavorites}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Favorites"})]})]})]})})}),e.jsxs("div",{className:`grid gap-6 ${a?"grid-cols-1":"grid-cols-1 lg:grid-cols-2"}`,children:[e.jsxs(D,{children:[e.jsx(L,{children:e.jsx(V,{children:"Personal Information"})}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{className:`grid gap-4 ${a?"grid-cols-1":"grid-cols-1 md:grid-cols-2"}`,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Full Name"}),i?e.jsx(I,{value:c.name,onChange:s=>g(t=>({...t,name:s.target.value}))}):e.jsx("p",{className:"text-sm",children:c.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Email"}),i?e.jsx(I,{type:"email",value:c.email,onChange:s=>g(t=>({...t,email:s.target.value}))}):e.jsx("p",{className:"text-sm",children:c.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Phone"}),i?e.jsx(I,{value:c.phone,onChange:s=>g(t=>({...t,phone:s.target.value}))}):e.jsx("p",{className:"text-sm",children:c.phone})]}),i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(j,{htmlFor:"pincode",children:"PIN Code"}),e.jsx(Me,{value:c.pincode||"",state:l.selectedState,district:l.selectedDistrict,city:l.selectedCity,onChange:(s,t)=>{if(console.log("Pincode selected:",s,t),g(u=>({...u,pincode:s})),t){console.log("Auto-filling location from pincode:",t);const u=y.getDistricts(t.state),m=y.getCities(t.state,t.district);w(p=>({...p,selectedState:t.state||"",selectedDistrict:t.district||"",selectedCity:t.city||"",districts:u,cities:m})),g(p=>({...p,location:`${t.city}, ${t.district}, ${t.state}`,pincode:s})),console.log("Profile updated with pincode and location:",{pincode:s,location:`${t.city}, ${t.district}, ${t.state}`}),R({title:"Location Auto-filled âœ“",description:`${t.city}, ${t.district}, ${t.state}`})}},placeholder:"Enter PIN code to auto-fill location...",className:"w-full"}),e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"ðŸ’¡ Type your PIN code to auto-fill state, district, and city"}),c.pincode&&l.selectedCity&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),"Location: ",l.selectedCity,", ",l.selectedDistrict,", ",l.selectedState]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"State"}),e.jsxs(U,{value:l.selectedState,onValueChange:le,children:[e.jsx(M,{children:e.jsx(z,{placeholder:"Select state"})}),e.jsx(O,{children:l.states.map(s=>e.jsx(B,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"District"}),e.jsxs(U,{value:l.selectedDistrict,onValueChange:ne,disabled:!l.selectedState,children:[e.jsx(M,{children:e.jsx(z,{placeholder:l.selectedState?l.loadingDistricts?"Loading districts...":"Select district":"Select state first"})}),e.jsx(O,{children:l.districts.map(s=>e.jsx(B,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"City"}),e.jsxs(U,{value:l.selectedCity,onValueChange:oe,disabled:!l.selectedDistrict,children:[e.jsx(M,{children:e.jsx(z,{placeholder:l.selectedState?l.selectedDistrict?l.loadingCities?"Loading cities...":"Select city":"Select district first":"Select state first"})}),e.jsx(O,{children:l.cities.map(s=>e.jsx(B,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Street Address"}),e.jsx(I,{value:c.address,onChange:s=>g(t=>({...t,address:s.target.value})),placeholder:"House/Flat number, Street name, Area"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Location"}),e.jsx("p",{className:"text-sm",children:N?.profile?.address?de(N.profile.address):"Not specified"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Address"}),e.jsx("p",{className:"text-sm",children:c.address||"Not specified"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"PIN Code"}),e.jsx("p",{className:"text-sm",children:N?.profile?.address?.zipCode||c.pincode||"Not provided"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Bio"}),i?e.jsx(Te,{rows:3,value:c.bio,onChange:s=>g(t=>({...t,bio:s.target.value}))}):e.jsx("p",{className:"text-sm",children:c.bio})]}),i&&e.jsxs("div",{className:`flex gap-2 pt-4 ${a?"flex-col":""}`,children:[e.jsx(C,{onClick:fe,disabled:v,className:a?"w-full":"",children:v?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),e.jsxs(C,{variant:"outline",onClick:ge,className:a?"w-full":"",children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),e.jsxs(D,{children:[e.jsx(L,{children:e.jsx(V,{children:"Account Statistics"})}),e.jsx(k,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Owned Properties"})]}),e.jsx("span",{className:"font-semibold",children:b.ownedProperties})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Inquiries Sent"})]}),e.jsx("span",{className:"font-semibold",children:b.inquiriesSent})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:"Properties Viewed"})]}),e.jsx("span",{className:"font-semibold",children:b.propertiesViewed.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm",children:"Total Favorites"})]}),e.jsx("span",{className:"font-semibold",children:b.totalFavorites})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm",children:"Saved Searches"})]}),e.jsx("span",{className:"font-semibold",children:b.savedSearches})]})]})})]})]}),e.jsx(D,{className:"border-primary/20 bg-primary/5",children:e.jsx(k,{className:"pt-6",children:e.jsxs("div",{className:`flex ${a?"flex-col gap-4":"items-center justify-between"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Manage Your Preferences"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure notifications, privacy, security, and account settings"})]})]}),e.jsx(C,{onClick:()=>window.location.href="/customer/settings",className:a?"w-full":"",children:"Go to Settings"})]})})})]}),e.jsx(te,{value:"activity",className:"space-y-6",children:e.jsxs(D,{children:[e.jsx(L,{children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Recent Activity"]})}),e.jsx(k,{children:!h&&Q.length>0?e.jsx("div",{className:"space-y-4",children:Q.map(s=>{const t=u=>{switch(u){case"property_posted":return"bg-green-500";case"inquiry":return"bg-blue-500";case"favorite":return"bg-red-500";case"search":return"bg-purple-500";default:return"bg-gray-500"}};return e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${t(s.type)}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:ae.formatTimeAgo(s.timestamp)})]})]},s.id)})}):h?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading activity..."})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(J,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No recent activity"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Start browsing properties to see your activity here"})]})})]})})]})]})};export{os as default};
