import{j as e}from"./ui-CMGlPv8M.js";import{r as m}from"./router-02yfTqxa.js";import{a1 as E,r as V,s as L,v as $,w as P,x as g,f as c,a as t,b as a,c as r,q as D,e as l,U as O,E as S,ag as y,a5 as B,a6 as q,a7 as h,au as p,d as n,aP as F}from"./index-DGiQKbnC.js";import{f as w,h as G}from"./apiUtils-Cw-_rb0N.js";import{D as o}from"./download-Dx_JF_-F.js";import{T}from"./trending-up-DL-k5KbV.js";import"./vendor-Dazix4UH.js";const J=()=>{const[s,v]=m.useState(null),[k,N]=m.useState(!0),[R,U]=m.useState("overview"),[j,C]=m.useState("30days"),{toast:u}=E();m.useEffect(()=>{M()},[j]);const M=async()=>{try{N(!0);const i=await w(`/subadmin/reports?range=${j}`),f=await G(i);v(f.data||null)}catch(i){console.error("Error fetching report data:",i),u({title:"Error",description:i.message||"Error fetching report data",variant:"destructive"}),v(null)}finally{N(!1)}},d=async i=>{try{u({title:"Exporting",description:`Generating ${i} report...`});const A=await(await w(`/subadmin/reports/export?type=${i}&range=${j}`)).blob(),b=window.URL.createObjectURL(A),x=document.createElement("a");x.href=b,x.download=`buildhomemartsquares_${i}_report_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(x),x.click(),window.URL.revokeObjectURL(b),document.body.removeChild(x),u({title:"Success",description:"Report exported successfully"})}catch{u({title:"Error",description:"Error exporting report",variant:"destructive"})}};return k||!s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Reports"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Analytics and insights dashboard"})]}),e.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3,4].map(i=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"},i))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Reports"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Analytics and insights dashboard"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{value:j,onValueChange:C,children:[e.jsx(L,{className:"w-[180px]",children:e.jsx($,{})}),e.jsxs(P,{children:[e.jsx(g,{value:"7days",children:"Last 7 Days"}),e.jsx(g,{value:"30days",children:"Last 30 Days"}),e.jsx(g,{value:"90days",children:"Last 90 Days"}),e.jsx(g,{value:"1year",children:"Last Year"})]})]}),e.jsxs(c,{variant:"outline",onClick:()=>d("full"),children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(t,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{className:"text-sm font-medium",children:"Total Properties"}),e.jsx(D,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.propertyStats.total}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("div",{className:"text-xs text-green-600",children:[s.propertyStats.available," Available"]}),e.jsxs("div",{className:"text-xs text-yellow-600",children:[s.propertyStats.pending," Pending"]}),e.jsxs("div",{className:"text-xs text-red-600",children:[s.propertyStats.rejected," Rejected"]})]})]})]}),e.jsxs(t,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(O,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.userStats.totalVendors+s.userStats.totalCustomers}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("div",{className:"text-xs text-blue-600",children:[s.userStats.totalVendors," Vendors"]}),e.jsxs("div",{className:"text-xs text-purple-600",children:[s.userStats.totalCustomers," Customers"]})]})]})]}),e.jsxs(t,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(S,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.engagementStats.totalViews.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Property page views"})]})]}),e.jsxs(t,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{className:"text-sm font-medium",children:"Support Tickets"}),e.jsx(y,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.supportStats.totalTickets}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("div",{className:"text-xs text-orange-600",children:[s.supportStats.openTickets," Open"]}),e.jsxs("div",{className:"text-xs text-green-600",children:[s.supportStats.resolvedTickets," Resolved"]})]})]})]})]}),e.jsxs(B,{value:R,onValueChange:U,children:[e.jsxs(q,{children:[e.jsx(h,{value:"overview",children:"Overview"}),e.jsx(h,{value:"properties",children:"Properties"}),e.jsx(h,{value:"users",children:"Users"}),e.jsx(h,{value:"engagement",children:"Engagement"}),e.jsx(h,{value:"support",children:"Support"})]}),e.jsxs(p,{value:"overview",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Property Distribution"}),e.jsx(n,{children:"Breakdown of property statuses"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Available Properties"}),e.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[s.propertyStats.available," (",s.propertyStats.total>0?Math.round(s.propertyStats.available/s.propertyStats.total*100):0,"%)"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Pending Review"}),e.jsxs("span",{className:"text-sm font-semibold text-yellow-600",children:[s.propertyStats.pending," (",s.propertyStats.total>0?Math.round(s.propertyStats.pending/s.propertyStats.total*100):0,"%)"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Rejected"}),e.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[s.propertyStats.rejected," (",s.propertyStats.total>0?Math.round(s.propertyStats.rejected/s.propertyStats.total*100):0,"%)"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total"}),e.jsx("span",{className:"text-sm font-semibold",children:s.propertyStats.total})]})]})})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"User Growth"}),e.jsx(n,{children:"User registration statistics"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Active Users"}),e.jsx("span",{className:"text-sm font-semibold",children:s.userStats.activeUsers})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"New Users This Month"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-semibold text-green-600",children:s.userStats.newUsersThisMonth})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Vendors"}),e.jsx("span",{className:"text-sm font-semibold",children:s.userStats.totalVendors})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Customers"}),e.jsx("span",{className:"text-sm font-semibold",children:s.userStats.totalCustomers})]})]})})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Engagement Metrics"}),e.jsx(n,{children:"User interaction statistics"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Views"}),e.jsx("span",{className:"text-sm font-semibold",children:s.engagementStats.totalViews.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Messages"}),e.jsx("span",{className:"text-sm font-semibold",children:s.engagementStats.totalMessages.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Reviews"}),e.jsx("span",{className:"text-sm font-semibold",children:s.engagementStats.totalReviews.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Average Rating"}),e.jsx("span",{className:"text-sm font-semibold",children:s.engagementStats.averageRating>0?`${s.engagementStats.averageRating.toFixed(1)} / 5.0`:"No ratings yet"})]})]})})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Support Performance"}),e.jsx(n,{children:"Customer support metrics"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Tickets"}),e.jsx("span",{className:"text-sm font-semibold",children:s.supportStats.totalTickets})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Open Tickets"}),e.jsx("span",{className:"text-sm font-semibold text-orange-600",children:s.supportStats.openTickets})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Resolved Tickets"}),e.jsx("span",{className:"text-sm font-semibold text-green-600",children:s.supportStats.resolvedTickets})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Avg Resolution Time"}),e.jsx("span",{className:"text-sm font-semibold",children:s.supportStats.resolvedTickets>0?`${s.supportStats.avgResolutionTime}h`:"N/A"})]})]})})]})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Export Options"}),e.jsx(n,{children:"Download detailed reports"})]}),e.jsxs(l,{className:"flex gap-2",children:[e.jsxs(c,{variant:"outline",onClick:()=>d("properties"),children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Properties Report"]}),e.jsxs(c,{variant:"outline",onClick:()=>d("users"),children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Users Report"]}),e.jsxs(c,{variant:"outline",onClick:()=>d("engagement"),children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Engagement Report"]}),e.jsxs(c,{variant:"outline",onClick:()=>d("support"),children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Support Report"]})]})]})]}),e.jsxs(p,{value:"properties",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Available Properties"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:s.propertyStats.available}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.propertyStats.total>0?`${Math.round(s.propertyStats.available/s.propertyStats.total*100)}% of total`:"0% of total"})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Pending Review"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:s.propertyStats.pending}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.propertyStats.total>0?`${Math.round(s.propertyStats.pending/s.propertyStats.total*100)}% of total`:"0% of total"})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Rejected"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:s.propertyStats.rejected}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.propertyStats.total>0?`${Math.round(s.propertyStats.rejected/s.propertyStats.total*100)}% of total`:"0% of total"})]})]})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Property Status Breakdown"}),e.jsx(n,{children:"Detailed property statistics"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Available"}),e.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[s.propertyStats.available," / ",s.propertyStats.total]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${s.propertyStats.total>0?s.propertyStats.available/s.propertyStats.total*100:0}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Pending Review"}),e.jsxs("span",{className:"text-sm font-semibold text-yellow-600",children:[s.propertyStats.pending," / ",s.propertyStats.total]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-600 h-2 rounded-full transition-all",style:{width:`${s.propertyStats.total>0?s.propertyStats.pending/s.propertyStats.total*100:0}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Rejected"}),e.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[s.propertyStats.rejected," / ",s.propertyStats.total]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-600 h-2 rounded-full transition-all",style:{width:`${s.propertyStats.total>0?s.propertyStats.rejected/s.propertyStats.total*100:0}%`}})})]})]})})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Actions"})}),e.jsx(l,{children:e.jsxs(c,{variant:"outline",onClick:()=>d("properties"),className:"w-full",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Export Detailed Property Report"]})})]})]}),e.jsxs(p,{value:"users",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Total Users"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s.userStats.activeUsers}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All registered users"})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Vendors"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:s.userStats.totalVendors}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.userStats.activeUsers>0?`${Math.round(s.userStats.totalVendors/s.userStats.activeUsers*100)}% of users`:"0% of users"})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Customers"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:s.userStats.totalCustomers}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.userStats.activeUsers>0?`${Math.round(s.userStats.totalCustomers/s.userStats.activeUsers*100)}% of users`:"0% of users"})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"New Users"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:s.userStats.newUsersThisMonth}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This month"})]})]})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"User Distribution"}),e.jsx(n,{children:"Breakdown by user type"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Vendors (Agents)"}),e.jsxs("span",{className:"text-sm font-semibold text-purple-600",children:[s.userStats.totalVendors," (",s.userStats.activeUsers>0?Math.round(s.userStats.totalVendors/s.userStats.activeUsers*100):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:`${s.userStats.activeUsers>0?s.userStats.totalVendors/s.userStats.activeUsers*100:0}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Customers"}),e.jsxs("span",{className:"text-sm font-semibold text-indigo-600",children:[s.userStats.totalCustomers," (",s.userStats.activeUsers>0?Math.round(s.userStats.totalCustomers/s.userStats.activeUsers*100):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:`${s.userStats.activeUsers>0?s.userStats.totalCustomers/s.userStats.activeUsers*100:0}%`}})})]})]})})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Growth Metrics"}),e.jsx(n,{children:"User registration trends"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"New Registrations"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Current month"})]})]}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["+",s.userStats.newUsersThisMonth]})]})})})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Actions"})}),e.jsx(l,{children:e.jsxs(c,{variant:"outline",onClick:()=>d("users"),className:"w-full",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Export Detailed User Report"]})})]})]}),e.jsxs(p,{value:"engagement",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Total Views"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s.engagementStats.totalViews.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Property page views"})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Messages"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:s.engagementStats.totalMessages.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"User conversations"})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Reviews"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600",children:s.engagementStats.totalReviews.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Customer reviews"})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Avg Rating"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:s.engagementStats.averageRating>0?s.engagementStats.averageRating.toFixed(1):"N/A"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.engagementStats.averageRating>0?"Out of 5.0":"No ratings yet"})]})]})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Engagement Overview"}),e.jsx(n,{children:"Platform interaction metrics"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Property Views"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total page views"})]})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.engagementStats.totalViews.toLocaleString()})]})}),e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Messages Sent"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"User-to-vendor messages"})]})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s.engagementStats.totalMessages.toLocaleString()})]})})]}),e.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/10 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{className:"h-5 w-5 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Customer Reviews"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Average rating: ",s.engagementStats.averageRating>0?`${s.engagementStats.averageRating.toFixed(1)} / 5.0`:"No ratings"]})]})]}),e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:s.engagementStats.totalReviews.toLocaleString()})]})})]})})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Engagement Insights"}),e.jsx(n,{children:"Key engagement metrics"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/10 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Avg Views per Property"}),e.jsx("span",{className:"text-sm font-bold text-blue-600",children:s.propertyStats.total>0?Math.round(s.engagementStats.totalViews/s.propertyStats.total).toLocaleString():0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 dark:bg-purple-900/10 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Avg Messages per User"}),e.jsx("span",{className:"text-sm font-bold text-purple-600",children:s.userStats.activeUsers>0?Math.round(s.engagementStats.totalMessages/s.userStats.activeUsers).toLocaleString():0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-amber-50 dark:bg-amber-900/10 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Review Coverage"}),e.jsx("span",{className:"text-sm font-bold text-amber-600",children:s.propertyStats.total>0?`${Math.round(s.engagementStats.totalReviews/s.propertyStats.total*100)}%`:"0%"})]})]})})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Actions"})}),e.jsx(l,{children:e.jsxs(c,{variant:"outline",onClick:()=>d("engagement"),className:"w-full",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Export Detailed Engagement Report"]})})]})]}),e.jsxs(p,{value:"support",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Total Tickets"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s.supportStats.totalTickets}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All support requests"})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Open Tickets"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:s.supportStats.openTickets}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Awaiting response"})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Resolved"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:s.supportStats.resolvedTickets}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Successfully closed"})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Avg Resolution"})}),e.jsxs(l,{children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[s.supportStats.avgResolutionTime,"h"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Average time to resolve"})]})]})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Ticket Status Distribution"}),e.jsx(n,{children:"Support ticket breakdown"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Resolved Tickets"}),e.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[s.supportStats.resolvedTickets," (",s.supportStats.totalTickets>0?Math.round(s.supportStats.resolvedTickets/s.supportStats.totalTickets*100):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${s.supportStats.totalTickets>0?s.supportStats.resolvedTickets/s.supportStats.totalTickets*100:0}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Open Tickets"}),e.jsxs("span",{className:"text-sm font-semibold text-orange-600",children:[s.supportStats.openTickets," (",s.supportStats.totalTickets>0?Math.round(s.supportStats.openTickets/s.supportStats.totalTickets*100):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-600 h-2 rounded-full transition-all",style:{width:`${s.supportStats.totalTickets>0?s.supportStats.openTickets/s.supportStats.totalTickets*100:0}%`}})})]})]})})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Performance Metrics"}),e.jsx(n,{children:"Support team efficiency"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/10 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Resolution Rate"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Resolved vs Total"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[s.supportStats.totalTickets>0?Math.round(s.supportStats.resolvedTickets/s.supportStats.totalTickets*100):0,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 dark:bg-purple-900/10 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Average Resolution Time"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Time to close tickets"})]}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[s.supportStats.avgResolutionTime,"h"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 dark:bg-orange-900/10 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Pending Work"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently open"})]}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:s.supportStats.openTickets})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/10 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Total Handled"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All-time tickets"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.supportStats.totalTickets})]})]})})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Actions"})}),e.jsx(l,{children:e.jsxs(c,{variant:"outline",onClick:()=>d("support"),className:"w-full",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Export Detailed Support Report"]})})]})]})]})]})};export{J as default};
