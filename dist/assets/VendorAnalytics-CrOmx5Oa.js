import{j as e}from"./ui-DHQhougw.js";import{R as t,r}from"./router-Bi51YGN-.js";import{aY as a,t as n,a0 as s,O as o,S as i,r as l,s as c,v as d,w as p,f as u,a as h,e as m,b as x,c as y,E as f,U as v,K as g,af as b,aF as j,az as w,n as P,B as N,ax as S,y as A,ar as R}from"./index-CjE-j8az.js";import{u as T}from"./use-mobile-WsBtvUz6.js";import{E as O,a as k}from"./jspdf.plugin.autotable-C5hU8Akl.js";import{D as C}from"./download-DVh_HWvQ.js";import{T as D}from"./trending-up-CxQygUYc.js";import{T as E}from"./trending-down-ltA2BT6r.js";import{f as F,b as L,m as M,i as $,c as I,A as z,d as V,e as K,g as W,h as B,j as _,k as U,u as q,l as G,G as Y,n as H,o as X,D as J,S as Q,p as Z,q as ee,r as te,E as re,s as ae,t as ne,v as se,B as oe,X as ie,Y as le,w as ce,a as de,R as pe,C as ue,T as he,x as me,L as xe}from"./LineChart-BUNi0CoL.js";import{S as ye}from"./share-DUzkDeLG.js";import{D as fe}from"./dollar-sign-D3I6YdLO.js";import"./vendor-eVk5PToZ.js";var ve,ge=["layout","type","stroke","connectNulls","isRange","ref"],be=["key"];function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pe.apply(this,arguments)}function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach(function(t){Ce(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ae(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,De(a.key),a)}}function Re(e,t,r){return t=Oe(t),function(e,t){if(t&&("object"===je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Te()?Reflect.construct(t,r||[],Oe(e).constructor):t.apply(e,r))}function Te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Te=function(){return!!e})()}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e,t,r){return(t=De(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function De(e){var t=function(e,t){if("object"!=je(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=je(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==je(t)?t:t+""}var Ee=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return Ce(t=Re(this,e,[].concat(a)),"state",{isAnimationFinished:!0}),Ce(t,"id",q("recharts-area-")),Ce(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),G(e)&&e()}),Ce(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),G(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}(e,r.PureComponent),n=e,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(s=[{key:"renderDots",value:function(r,a,n){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var i=this.props,l=i.dot,c=i.points,d=i.dataKey,p=F(this.props,!1),u=F(l,!0),h=c.map(function(t,r){var a=Se(Se(Se({key:"dot-".concat(r),r:3},p),u),{},{index:r,cx:t.x,cy:t.y,dataKey:d,value:t.value,payload:t.payload,points:c});return e.renderDotItem(l,a)}),m={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(n,")"):null};return t.createElement(L,Pe({className:"recharts-area-dots"},m),h)}},{key:"renderHorizontalRect",value:function(e){var r=this.props,a=r.baseLine,n=r.points,s=r.strokeWidth,o=n[0].x,i=n[n.length-1].x,l=e*Math.abs(o-i),c=M(n.map(function(e){return e.y||0}));return $(a)&&"number"==typeof a?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max(M(a.map(function(e){return e.y||0})),c)),$(c)?t.createElement("rect",{x:o<i?o:o-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var r=this.props,a=r.baseLine,n=r.points,s=r.strokeWidth,o=n[0].y,i=n[n.length-1].y,l=e*Math.abs(o-i),c=M(n.map(function(e){return e.x||0}));return $(a)&&"number"==typeof a?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max(M(a.map(function(e){return e.x||0})),c)),$(c)?t.createElement("rect",{x:0,y:o<i?o:o-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,r,a,n){var s=this.props,o=s.layout,i=s.type,l=s.stroke,c=s.connectNulls,d=s.isRange;s.ref;var p=we(s,ge);return t.createElement(L,{clipPath:a?"url(#clipPath-".concat(n,")"):null},t.createElement(I,Pe({},F(p,!0),{points:e,connectNulls:c,type:i,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==l&&t.createElement(I,Pe({},F(this.props,!1),{className:"recharts-area-curve",layout:o,type:i,connectNulls:c,fill:"none",points:e})),"none"!==l&&d&&t.createElement(I,Pe({},F(this.props,!1),{className:"recharts-area-curve",layout:o,type:i,connectNulls:c,fill:"none",points:r})))}},{key:"renderAreaWithAnimation",value:function(e,r){var a=this,n=this.props,s=n.points,o=n.baseLine,i=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,p=n.animationId,u=this.state,h=u.prevPoints,m=u.prevBaseLine;return t.createElement(z,{begin:l,duration:c,isActive:i,easing:d,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i=n.t;if(h){var l,c=h.length/s.length,d=s.map(function(e,t){var r=Math.floor(t*c);if(h[r]){var a=h[r],n=V(a.x,e.x),s=V(a.y,e.y);return Se(Se({},e),{},{x:n(i),y:s(i)})}return e});return l=$(o)&&"number"==typeof o?V(m,o)(i):K(o)||W(o)?V(m,0)(i):o.map(function(e,t){var r=Math.floor(t*c);if(m[r]){var a=m[r],n=V(a.x,e.x),s=V(a.y,e.y);return Se(Se({},e),{},{x:n(i),y:s(i)})}return e}),a.renderAreaStatically(d,l,e,r)}return t.createElement(L,null,t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(r)},a.renderClipRect(i))),t.createElement(L,{clipPath:"url(#animationClipPath-".concat(r,")")},a.renderAreaStatically(s,o,e,r)))})}},{key:"renderArea",value:function(e,t){var r=this.props,a=r.points,n=r.baseLine,s=r.isAnimationActive,o=this.state,i=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return s&&a&&a.length&&(!i&&c>0||!B(i,a)||!B(l,n))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(a,n,e,t)}},{key:"render",value:function(){var e,r=this.props,n=r.hide,s=r.dot,o=r.points,i=r.className,l=r.top,c=r.left,d=r.xAxis,p=r.yAxis,u=r.width,h=r.height,m=r.isAnimationActive,x=r.id;if(n||!o||!o.length)return null;var y=this.state.isAnimationFinished,f=1===o.length,v=a("recharts-area",i),g=d&&d.allowDataOverflow,b=p&&p.allowDataOverflow,j=g||b,w=K(x)?this.id:x,P=null!==(e=F(s,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=P.r,S=void 0===N?3:N,A=P.strokeWidth,R=void 0===A?2:A,T=(_(s)?s:{}).clipDot,O=void 0===T||T,k=2*S+R;return t.createElement(L,{className:v},g||b?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(w)},t.createElement("rect",{x:g?c:c-u/2,y:b?l:l-h/2,width:g?u:2*u,height:b?h:2*h})),!O&&t.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.createElement("rect",{x:c-k/2,y:l-k/2,width:u+k,height:h+k}))):null,f?null:this.renderArea(j,w),(s||f)&&this.renderDots(j,O,w),(!m||y)&&U.renderCallByParent(this.props,o))}}])&&Ae(n.prototype,s),o&&Ae(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,s,o}();function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ke(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Me(e,t,r){return t=Ie(t),function(e,t){if(t&&("object"===Fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$e()?Reflect.construct(t,r||[],Ie(e).constructor):t.apply(e,r))}function $e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return($e=function(){return!!e})()}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e,t,r){return(t=Ke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ke(e){var t=function(e,t){if("object"!=Fe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=Fe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Fe(t)?t:t+""}ve=Ee,Ce(Ee,"displayName","Area"),Ce(Ee,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Y.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),Ce(Ee,"getBaseValue",function(e,t,r,a){var n=e.layout,s=e.baseValue,o=t.props.baseValue,i=null!=o?o:s;if($(i)&&"number"==typeof i)return i;var l="horizontal"===n?a:r,c=l.scale.domain();if("number"===l.type){var d=Math.max(c[0],c[1]),p=Math.min(c[0],c[1]);return"dataMin"===i?p:"dataMax"===i||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===i?c[0]:"dataMax"===i?c[1]:c[0]}),Ce(Ee,"getComposedData",function(e){var t,r=e.props,a=e.item,n=e.xAxis,s=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,p=e.dataStartIndex,u=e.displayedData,h=e.offset,m=r.layout,x=d&&d.length,y=ve.getBaseValue(r,a,n,s),f="horizontal"===m,v=!1,g=u.map(function(e,t){var r;x?r=d[p+t]:(r=H(e,c),Array.isArray(r)?v=!0:r=[y,r]);var a=null==r[1]||x&&null==H(e,c);return f?{x:X({axis:n,ticks:o,bandSize:l,entry:e,index:t}),y:a?null:s.scale(r[1]),value:r,payload:e}:{x:a?null:n.scale(r[1]),y:X({axis:s,ticks:i,bandSize:l,entry:e,index:t}),value:r,payload:e}});return t=x||v?g.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return f?{x:e.x,y:null!=t&&null!=e.y?s.scale(t):null}:{x:null!=t?n.scale(t):null,y:e.y}}):f?s.scale(y):n.scale(y),Se({points:g,baseLine:t,layout:m,isRange:v},h)}),Ce(Ee,"renderDotItem",function(e,r){var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if(G(e))n=e(r);else{var s=a("recharts-area-dot","boolean"!=typeof e?e.className:""),o=r.key,i=we(r,be);n=t.createElement(J,Pe({},i,{key:o,className:s}))}return n});var We=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Me(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ze(e,t)}(e,r.Component),Le(e,[{key:"render",value:function(){return null}}])}();Ve(We,"displayName","ZAxis"),Ve(We,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Be=["option","isActive"];function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_e.apply(this,arguments)}function Ue(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qe(e){var t=e.option,a=e.isActive,n=Ue(e,Be);return"string"==typeof t?r.createElement(Q,_e({option:r.createElement(Z,_e({type:t},n)),isActive:a,shapeType:"symbols"},n)):r.createElement(Q,_e({option:t,isActive:a,shapeType:"symbols"},n))}function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ye.apply(this,arguments)}function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach(function(t){rt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Je(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,at(a.key),a)}}function Qe(e,t,r){return t=et(t),function(e,t){if(t&&("object"===Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ze()?Reflect.construct(t,r||[],et(e).constructor):t.apply(e,r))}function Ze(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ze=function(){return!!e})()}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rt(e,t,r){return(t=at(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function at(e){var t=function(e,t){if("object"!=Ge(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=Ge(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Ge(t)?t:t+""}var nt=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return rt(t=Qe(this,e,[].concat(a)),"state",{isAnimationFinished:!1}),rt(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0})}),rt(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1})}),rt(t,"id",q("recharts-scatter-")),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}(e,r.PureComponent),n=e,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],(s=[{key:"renderSymbolsStatically",value:function(e){var r=this,a=this.props,n=a.shape,s=a.activeShape,o=a.activeIndex,i=F(this.props,!1);return e.map(function(e,a){var l=o===a,c=l?s:n,d=Xe(Xe({},i),e);return t.createElement(L,Ye({className:"recharts-scatter-symbol",key:"symbol-".concat(null==e?void 0:e.cx,"-").concat(null==e?void 0:e.cy,"-").concat(null==e?void 0:e.size,"-").concat(a)},ee(r.props,e,a),{role:"img"}),t.createElement(qe,Ye({option:c,isActive:l,key:"symbol-".concat(a)},d)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,r=this.props,a=r.points,n=r.isAnimationActive,s=r.animationBegin,o=r.animationDuration,i=r.animationEasing,l=r.animationId,c=this.state.prevPoints;return t.createElement(z,{begin:s,duration:o,isActive:n,easing:i,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var n=r.t,s=a.map(function(e,t){var r=c&&c[t];if(r){var a=V(r.cx,e.cx),s=V(r.cy,e.cy),o=V(r.size,e.size);return Xe(Xe({},e),{},{cx:a(n),cy:s(n),size:o(n)})}var i=V(0,e.size);return Xe(Xe({},e),{},{size:i(n)})});return t.createElement(L,null,e.renderSymbolsStatically(s))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,r=e.isAnimationActive,a=this.state.prevPoints;return!(r&&t&&t.length)||a&&B(a,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,r=e.points,a=e.xAxis,n=e.yAxis,s=e.children,o=te(s,re);return o?o.map(function(e,s){var o=e.props,i=o.direction,l=o.dataKey;return t.cloneElement(e,{key:"".concat(i,"-").concat(l,"-").concat(r[s]),data:r,xAxis:a,yAxis:n,layout:"x"===i?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===i?+e.node.x:+e.node.y,errorVal:H(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,r,a=this.props,n=a.points,s=a.line,o=a.lineType,i=a.lineJointType,l=F(this.props,!1),c=F(s,!1);if("joint"===o)e=n.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===o){var d=ae(n),p=d.xmin,u=d.xmax,h=d.a,m=d.b,x=function(e){return h*e+m};e=[{x:p,y:x(p)},{x:u,y:x(u)}]}var y=Xe(Xe(Xe({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:e});return r=t.isValidElement(s)?t.cloneElement(s,y):G(s)?s(y):t.createElement(I,Ye({},y,{type:i})),t.createElement(L,{className:"recharts-scatter-line",key:"recharts-scatter-line"},r)}},{key:"render",value:function(){var e=this.props,r=e.hide,n=e.points,s=e.line,o=e.className,i=e.xAxis,l=e.yAxis,c=e.left,d=e.top,p=e.width,u=e.height,h=e.id,m=e.isAnimationActive;if(r||!n||!n.length)return null;var x=this.state.isAnimationFinished,y=a("recharts-scatter",o),f=i&&i.allowDataOverflow,v=l&&l.allowDataOverflow,g=f||v,b=K(h)?this.id:h;return t.createElement(L,{className:y,clipPath:g?"url(#clipPath-".concat(b,")"):null},f||v?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(b)},t.createElement("rect",{x:f?c:c-p/2,y:v?d:d-u/2,width:f?p:2*p,height:v?u:2*u}))):null,s&&this.renderLine(),this.renderErrorBar(),t.createElement(L,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||x)&&U.renderCallByParent(this.props,n))}}])&&Je(n.prototype,s),o&&Je(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,s,o}();rt(nt,"displayName","Scatter"),rt(nt,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Y.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),rt(nt,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,a=e.zAxis,n=e.item,s=e.displayedData,o=e.xAxisTicks,i=e.yAxisTicks,l=e.offset,c=n.props.tooltipType,d=te(n.props.children,ne),p=K(t.dataKey)?n.props.dataKey:t.dataKey,u=K(r.dataKey)?n.props.dataKey:r.dataKey,h=a&&a.dataKey,m=a?a.range:We.defaultProps.range,x=m&&m[0],y=t.scale.bandwidth?t.scale.bandwidth():0,f=r.scale.bandwidth?r.scale.bandwidth():0,v=s.map(function(e,s){var l=H(e,p),m=H(e,u),v=!K(h)&&H(e,h)||"-",g=[{name:K(t.dataKey)?n.props.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:e,dataKey:p,type:c},{name:K(r.dataKey)?n.props.name:r.name||r.dataKey,unit:r.unit||"",value:m,payload:e,dataKey:u,type:c}];"-"!==v&&g.push({name:a.name||a.dataKey,unit:a.unit||"",value:v,payload:e,dataKey:h,type:c});var b=X({axis:t,ticks:o,bandSize:y,entry:e,index:s,dataKey:p}),j=X({axis:r,ticks:i,bandSize:f,entry:e,index:s,dataKey:u}),w="-"!==v?a.scale(v):x,P=Math.sqrt(Math.max(w,0)/Math.PI);return Xe(Xe({},e),{},{cx:b,cy:j,x:b-P,y:j-P,xAxis:t,yAxis:r,zAxis:a,width:2*P,height:2*P,size:w,node:{x:l,y:m,z:v},tooltipPayload:g,tooltipPosition:{x:b,y:j},payload:e},d&&d[s]&&d[s].props)});return Xe({points:v},l)});var st=se({chartName:"BarChart",GraphicalChild:oe,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ie},{axisType:"yAxis",AxisComp:le}],formatAxisMap:ce}),ot=se({chartName:"AreaChart",GraphicalChild:Ee,axisComponents:[{axisType:"xAxis",AxisComp:ie},{axisType:"yAxis",AxisComp:le}],formatAxisMap:ce}),it=se({chartName:"ComposedChart",GraphicalChild:[de,Ee,oe,nt],axisComponents:[{axisType:"xAxis",AxisComp:ie},{axisType:"yAxis",AxisComp:le},{axisType:"zAxis",AxisComp:We}],formatAxisMap:ce});const lt="https://api.akodefy.com/api";const ct=new class{async makeRequest(e,t={}){const r=`${lt}${e}`,a={headers:{"Content-Type":"application/json",...t.headers},...t},n=localStorage.getItem("token");n&&(a.headers={...a.headers,Authorization:`Bearer ${n}`});try{const e=await fetch(r,a);if(!e.ok){const t=await e.json().catch(()=>({success:!1,message:`HTTP ${e.status}: ${e.statusText}`}));throw new Error(t.message||"An error occurred")}return await e.json()}catch(s){throw s}}async getOverviewStats(e){try{const t=new URLSearchParams;t.append("timeframe",e.timeframe),e.propertyId&&t.append("propertyId",e.propertyId),e.dateFrom&&t.append("dateFrom",e.dateFrom),e.dateTo&&t.append("dateTo",e.dateTo);const r=`/vendors/analytics/overview?${t.toString()}`,a=await this.makeRequest(r);return a.success&&a.data?a.data:{totalViews:0,totalLeads:0,totalCalls:0,totalMessages:0,totalRevenue:0,soldPropertyRevenue:0,leasedPropertyRevenue:0,rentedPropertyRevenue:0,totalProperties:0,averageRating:0,responseTime:"Not calculated",conversionRate:0}}catch(t){return{totalViews:0,totalLeads:0,totalCalls:0,totalMessages:0,totalRevenue:0,soldPropertyRevenue:0,leasedPropertyRevenue:0,rentedPropertyRevenue:0,totalProperties:0,averageRating:0,responseTime:"Not calculated",conversionRate:0}}}async getPerformanceMetrics(e){try{const t=new URLSearchParams;t.append("timeframe",e.timeframe),e.propertyId&&t.append("propertyId",e.propertyId),e.dateFrom&&t.append("dateFrom",e.dateFrom),e.dateTo&&t.append("dateTo",e.dateTo);const r=`/vendors/analytics/performance?${t.toString()}`,a=await this.makeRequest(r);return a.success&&a.data?a.data:{viewsData:[],leadsData:[],conversionData:[],revenueData:[],propertyPerformance:[],leadSources:[],demographicsData:[]}}catch(t){return{viewsData:[],leadsData:[],conversionData:[],revenueData:[],propertyPerformance:[],leadSources:[],demographicsData:[]}}}async exportAnalyticsData(e,t="csv"){try{const r=new URLSearchParams;r.append("timeframe",e.timeframe),r.append("format",t),e.propertyId&&r.append("propertyId",e.propertyId),e.dateFrom&&r.append("dateFrom",e.dateFrom),e.dateTo&&r.append("dateTo",e.dateTo);const a=`/vendors/analytics/export?${r.toString()}`,s=await fetch(`${lt}${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!s.ok)throw new Error("Failed to export analytics data");const o=await s.blob();return n({title:"Success",description:`Analytics data exported as ${t.toUpperCase()}!`}),o}catch(r){const e=r instanceof Error?r.message:"Failed to export analytics data";throw n({title:"Error",description:e,variant:"destructive"}),r}}formatCurrency(e){return null==e||isNaN(e)?"â‚¹0":e>=1e7?`â‚¹${(e/1e7).toFixed(1)} Cr`:e>=1e5?`â‚¹${(e/1e5).toFixed(1)} L`:`â‚¹${e.toLocaleString("en-IN")}`}formatNumber(e){return null==e||isNaN(e)?"0":e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString()}formatPercentage(e){return null==e||isNaN(e)?"0%":`${e.toFixed(1)}%`}calculateChangePercentage(e,t){return 0===t?e>0?100:0:(e-t)/t*100}getChangeType(e){return e>0?"increase":e<0?"decrease":"neutral"}getChangeColor(e){switch(e){case"increase":return"text-green-600";case"decrease":return"text-red-600";case"neutral":return"text-gray-600"}}generateDateRange(e){const t=new Date,r=[];switch(e){case"7days":for(let e=6;e>=0;e--){const a=new Date(t);a.setDate(a.getDate()-e),r.push({name:a.toLocaleDateString("en-US",{weekday:"short"}),value:0})}break;case"30days":for(let e=29;e>=0;e--){const a=new Date(t);a.setDate(a.getDate()-e),r.push({name:a.getDate().toString(),value:0})}break;case"90days":for(let e=11;e>=0;e--){const a=new Date(t);a.setMonth(a.getMonth()-e),r.push({name:a.toLocaleDateString("en-US",{month:"short"}),value:0})}break;case"1year":for(let e=11;e>=0;e--){const a=new Date(t);a.setMonth(a.getMonth()-e),r.push({name:a.toLocaleDateString("en-US",{month:"short"}),value:0})}}return r}downloadBlob(e,t){const r=window.URL.createObjectURL(e),a=document.createElement("a");a.href=r,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)}},dt=()=>{const{toast:t}=s(),a=T(),[n,F]=r.useState("30days"),[L,M]=r.useState("all"),[$,I]=r.useState(!0),[z,V]=r.useState(null),[K,W]=r.useState(null),[B,_]=r.useState([]),[U,q]=r.useState(!1),[G,Y]=r.useState("all"),[H,X]=r.useState("composed"),J={timeframe:n,propertyId:"all"!==L?L:void 0};r.useEffect(()=>{(async()=>{try{I(!0);const[e,t,r]=await Promise.all([ct.getOverviewStats(J),ct.getPerformanceMetrics(J),S.getVendorProperties({page:1,limit:100})]);V(e),W(t);const a=r.success?r.data.properties:[];_(a),"all"===L||a.find(e=>e._id===L)||M("all")}catch(e){t({title:"Error",description:"Failed to load analytics data. Please try again.",variant:"destructive"})}finally{I(!1)}})()},[n,L]);const Q=async e=>{try{q(!0),"csv"===e?await Z():"pdf"===e&&await ee(),t({title:"Success",description:`Analytics data exported as ${e.toUpperCase()}!`})}catch(r){t({title:"Error",description:`Failed to export analytics data as ${e.toUpperCase()}`,variant:"destructive"})}finally{q(!1)}},Z=()=>{const e=[],t=(new Date).toLocaleDateString(),r={"7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days","1year":"Last Year"}[n];if(e.push(["Advanced Analytics Report"]),e.push(["Generated on",t]),e.push(["Time Period",r]),e.push(["Report Type","Vendor Property Performance"]),e.push([]),e.push(["EXECUTIVE SUMMARY"]),z&&(e.push(["Total Properties",K?.propertyPerformance?.length||0]),e.push(["Total Views",z.totalViews||0]),e.push(["Total Leads",z.totalLeads||0]),e.push(["Total Revenue (â‚¹)",z.totalRevenue||0]),e.push(["Average Rating",z.averageRating?.toFixed(1)||"0.0"]),e.push(["Overall Conversion Rate",`${((z.totalLeads||0)/(z.totalViews||1)*100).toFixed(1)}%`])),e.push([]),e.push(["REVENUE BREAKDOWN BY PROPERTY TYPE"]),e.push(["Property Type","Revenue (â‚¹)","Percentage of Total"]),z){const t=z.totalRevenue||1;e.push(["Sold Properties",z.soldPropertyRevenue||0,`${((z.soldPropertyRevenue||0)/t*100).toFixed(1)}%`]),e.push(["Leased Properties",z.leasedPropertyRevenue||0,`${((z.leasedPropertyRevenue||0)/t*100).toFixed(1)}%`]),e.push(["Rented Properties",z.rentedPropertyRevenue||0,`${((z.rentedPropertyRevenue||0)/t*100).toFixed(1)}%`]),e.push(["Total Revenue",z.totalRevenue||0,"100%"])}if(e.push([]),e.push(["KEY PERFORMANCE INDICATORS"]),e.push(["Metric","Value","Target Status","Trend"]),z&&(e.push(["Total Views",z.totalViews||0,"On Track","+12%"]),e.push(["Total Leads",z.totalLeads||0,"Above Target","+8%"]),e.push(["Total Revenue",`â‚¹${z.totalRevenue||0}`,"Excellent","+15%"]),e.push(["Conversion Rate",`${((z.totalLeads||0)/(z.totalViews||1)*100).toFixed(1)}%`,"Good","+5%"]),e.push(["Average Rating",z.averageRating?.toFixed(1)||"0.0","Stable","0%"])),e.push([]),e.push(["PROPERTY PERFORMANCE DETAILS"]),e.push(["Property Title","Status","Views","Favorites","Conversion Rate","Revenue (â‚¹)","Performance Rank","Engagement Score"]),K?.propertyPerformance?.length){[...K.propertyPerformance].sort((e,t)=>(t.revenue||0)-(e.revenue||0)).forEach((t,r)=>{let a="Available";(t.revenue||0)>0&&(a=t.conversionRate&&t.conversionRate>50?"Sold":t.conversionRate&&t.conversionRate>20?"Leased":"Rented");const n=(.4*(t.views||0)+.3*(t.favorites||0)+.3*(t.conversionRate||0)).toFixed(1);e.push([t.title||"Untitled Property",a,t.views||0,t.favorites||0,`${t.conversionRate||0}%`,t.revenue||0,`#${r+1}`,n])})}e.push([]),e.push(["INSIGHTS AND RECOMMENDATIONS"]);if(["Top performing property: "+(K?.propertyPerformance?.[0]?.title||"N/A"),"Focus on properties with conversion rates above 20%","Optimize listings with low engagement scores","Monitor response times to improve conversion rates","Properties with higher view counts perform better"].forEach(t=>e.push([t])),e.push([]),e.push(["SUMMARY STATISTICS"]),K?.propertyPerformance?.length){const t=K.propertyPerformance,r=t.reduce((e,t)=>e+(t.views||0),0),a=t.reduce((e,t)=>e+(t.revenue||0),0),n=t.reduce((e,t)=>e+(t.conversionRate||0),0)/t.length;e.push(["Total Properties Analyzed",t.length]),e.push(["Average Views per Property",Math.round(r/t.length)]),e.push(["Average Revenue per Property",Math.round(a/t.length)]),e.push(["Average Conversion Rate",`${n.toFixed(1)}%`]),e.push(["Highest Performing Property",t[0]?.title||"N/A"])}const a=e.map(e=>e.map(e=>`"${e}"`).join(",")).join("\n"),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),o=`advanced-analytics-${n}-${Date.now()}.csv`;ct.downloadBlob(s,o)},ee=()=>{const e=new O,t=e.internal.pageSize.width,r=e.internal.pageSize.height,a={primary:[41,128,185],secondary:[52,152,219],success:[46,204,113],warning:[241,196,15],purple:[155,89,182],dark:[44,62,80],light:[245,245,245]},s=(t,r,a,n,s,o)=>{for(let i=0;i<n;i++){const l=i/n,c=Math.round(s[0]*(1-l)+o[0]*l),d=Math.round(s[1]*(1-l)+o[1]*l),p=Math.round(s[2]*(1-l)+o[2]*l);e.setFillColor(c,d,p),e.rect(t,r+i,a,1,"F")}};s(0,0,t,40,a.primary,a.secondary),e.setTextColor(255,255,255),e.setFontSize(28),e.setFont("helvetica","bold"),e.text("SQUARES",20,25),e.setFontSize(14),e.setFont("helvetica","normal"),e.text("Property Analytics Report",20,35),e.setFillColor(255,255,255),e.setDrawColor(...a.primary),e.setLineWidth(.5),e.roundedRect(120,10,70,25,3,3,"FD"),e.setTextColor(...a.dark),e.setFontSize(10),e.setFont("helvetica","bold");const o=(new Date).toLocaleDateString(),i={"7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days","1year":"Last Year"}[n];e.text("Report Period:",125,18),e.text(i,125,25),e.text(`Generated: ${o}`,125,32);let l=55;if(z){e.setFillColor(...a.light),e.setDrawColor(...a.primary),e.setLineWidth(.3),e.roundedRect(15,l-5,t-30,15,2,2,"FD"),e.setTextColor(...a.primary),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Executive Summary",20,l+5),l+=20,e.setTextColor(...a.dark),e.setFontSize(11),e.setFont("helvetica","normal");const r=`This comprehensive analytics report covers the ${i.toLowerCase()} period, showcasing ${ct.formatNumber(z.totalViews||0)} total property views, ${ct.formatNumber(z.totalLeads||0)} leads generated, and â‚¹${ct.formatNumber(z.totalRevenue||0)} in total revenue across ${K?.propertyPerformance?.length||0} properties.`,n=e.splitTextToSize(r,t-40);e.text(n,20,l),l+=5*n.length+10}if(z){l>r-100&&(e.addPage(),l=20),e.setFillColor(...a.secondary),e.setDrawColor(...a.secondary),e.roundedRect(15,l-5,t-30,12,2,2,"F"),e.setTextColor(255,255,255),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Key Performance Indicators",20,l+2),l+=18;const n=[["Metric","Value","Change","Target Status"],["Total Views",ct.formatNumber(z.totalViews||0),"+12%","On Track"],["Total Leads",ct.formatNumber(z.totalLeads||0),"+8%","Above Target"],["Total Revenue",`â‚¹${ct.formatNumber(z.totalRevenue||0)}`,"+15%","Excellent"],["Conversion Rate",`${((z.totalLeads||0)/(z.totalViews||1)*100).toFixed(1)}%`,"+5%","Good"],["Average Rating",`${z.averageRating?.toFixed(1)||"0.0"}`,"0%","Stable"]];k(e,{body:n,startY:l,theme:"grid",styles:{fontSize:10,cellPadding:4,lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:a.primary,textColor:255,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[248,249,250]},columnStyles:{0:{fontStyle:"bold",cellWidth:35},1:{halign:"right",cellWidth:30},2:{halign:"center",cellWidth:25},3:{halign:"center",cellWidth:30}},margin:{left:20,right:20}}),l=e.lastAutoTable.finalY+15}if(z&&(z.soldPropertyRevenue||z.leasedPropertyRevenue||z.rentedPropertyRevenue)){l>r-120&&(e.addPage(),l=20),e.setFillColor(...a.success),e.setDrawColor(...a.success),e.roundedRect(15,l-5,t-30,12,2,2,"F"),e.setTextColor(255,255,255),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Revenue Breakdown by Property Type",20,l+2),l+=18;const n=z.totalRevenue||1,s=[["Property Type","Revenue","Percentage","Status"],["Sold Properties",`â‚¹${ct.formatNumber(z.soldPropertyRevenue||0)}`,`${((z.soldPropertyRevenue||0)/n*100).toFixed(1)}%`,"High Performer"],["Leased Properties",`â‚¹${ct.formatNumber(z.leasedPropertyRevenue||0)}`,`${((z.leasedPropertyRevenue||0)/n*100).toFixed(1)}%`,"Steady"],["Rented Properties",`â‚¹${ct.formatNumber(z.rentedPropertyRevenue||0)}`,`${((z.rentedPropertyRevenue||0)/n*100).toFixed(1)}%`,"Growing"],["Total Revenue",`â‚¹${ct.formatNumber(z.totalRevenue||0)}`,"100%","Portfolio Total"]];k(e,{body:s,startY:l,theme:"grid",styles:{fontSize:10,cellPadding:4,lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:a.success,textColor:255,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[248,249,250]},columnStyles:{0:{fontStyle:"bold",cellWidth:40},1:{halign:"right",cellWidth:35},2:{halign:"center",cellWidth:25},3:{halign:"center",cellWidth:30}},margin:{left:20,right:20}}),l=e.lastAutoTable.finalY+15}if(K?.propertyPerformance?.length){l>r-150&&(e.addPage(),l=20),e.setFillColor(...a.purple),e.setDrawColor(...a.purple),e.roundedRect(15,l-5,t-30,12,2,2,"F"),e.setTextColor(255,255,255),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Property Performance Details",20,l+2),l+=18;const n=[["Property Title","Status","Views","Favorites","Conv. Rate","Revenue","Rank"]];[...K.propertyPerformance].sort((e,t)=>(t.revenue||0)-(e.revenue||0)).forEach((e,t)=>{let r="Available";(e.revenue||0)>0&&(r=e.conversionRate&&e.conversionRate>50?"Sold":e.conversionRate&&e.conversionRate>20?"Leased":"Rented"),n.push([e.title||"Untitled Property",r,ct.formatNumber(e.views||0),ct.formatNumber(e.favorites||0),`${e.conversionRate||0}%`,`â‚¹${ct.formatNumber(e.revenue||0)}`,`#${t+1}`])}),k(e,{body:n,startY:l,theme:"grid",styles:{fontSize:9,cellPadding:3,lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:a.purple,textColor:255,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[248,249,250]},columnStyles:{0:{cellWidth:45,fontStyle:"bold"},1:{halign:"center",cellWidth:25},2:{halign:"right",cellWidth:20},3:{halign:"right",cellWidth:20},4:{halign:"center",cellWidth:20},5:{halign:"right",cellWidth:30},6:{halign:"center",cellWidth:15}},margin:{left:15,right:15}}),l=e.lastAutoTable.finalY+15}l>r-80&&(e.addPage(),l=20),e.setFillColor(...a.warning),e.setDrawColor(...a.warning),e.roundedRect(15,l-5,t-30,12,2,2,"F"),e.setTextColor(255,255,255),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Strategic Insights & Recommendations",20,l+2),l+=18,e.setTextColor(...a.dark),e.setFontSize(10),e.setFont("helvetica","normal");const c=K?.propertyPerformance?.[0];[`ðŸ† Top performing property: "${c?.title||"N/A"}" with ${c?.views||0} views and â‚¹${c?.revenue||0} revenue`,"ðŸ“ˆ Focus on properties with conversion rates above 20% for maximum revenue potential","ðŸ” Consider optimizing property listings with low engagement to improve visibility","âš¡ Monitor response times to inquiries - faster responses typically lead to higher conversion rates","ðŸ“Š Properties with higher view counts generally perform better in lead generation","ðŸ’¡ Consider A/B testing different property descriptions and images to improve engagement"].forEach((r,a)=>{const n=e.splitTextToSize(r,t-40);e.text(n,20,l),l+=4.5*n.length+3});const d=e.getNumberOfPages();for(let n=1;n<=d;n++)e.setPage(n),s(0,r-15,t,15,a.light,[220,220,220]),e.setTextColor(...a.dark),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(`Page ${n} of ${d}`,20,r-5),e.text("Generated by Squares Vendor Analytics Dashboard",t-90,r-5),e.text(`Â© ${(new Date).getFullYear()} Squares - Confidential Report`,t/2-35,r-5);const p=`advanced-analytics-${n}-${Date.now()}.pdf`;e.save(p)};if($)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:"Loading analytics..."})]})});const te=z?(e=>{if(!e)return[{title:"Total Views",value:"0",change:"0%",changeType:"neutral",icon:f,description:"Property page views"},{title:"Leads Generated",value:"Coming Soon",change:"",changeType:"neutral",icon:P,description:"Feature in development"},{title:"Phone Calls",value:"0",change:"0%",changeType:"neutral",icon:A,description:"Direct calls"},{title:"Messages",value:"0",change:"0%",changeType:"neutral",icon:b,description:"Chat inquiries"},{title:"Total Revenue",value:"â‚¹0",change:"0%",changeType:"neutral",icon:fe,description:"All properties"},{title:"Avg. Rating",value:"0.0",change:"0%",changeType:"neutral",icon:R,description:"Customer reviews"}];const t=e=>{if(null==e||isNaN(e))return{change:"0%",changeType:"neutral"};const t=e.toFixed(1);return{change:`${e>0?"+":""}${t}%`,changeType:e>0?"increase":e<0?"decrease":"neutral"}},r=t(e.trends?.views?.growth),a=t(e.trends?.leads?.growth);t(e.trends?.properties?.growth);const n=t(e.trends?.revenue?.growth);return[{title:"Total Views",value:ct.formatNumber(e.totalViews),change:r.change,changeType:r.changeType,icon:f,description:"Property page views"},{title:"Leads Generated",value:ct.formatNumber(e.totalLeads),change:a.change,changeType:a.changeType,icon:v,description:"Total inquiries received"},{title:"Phone Calls",value:ct.formatNumber(e.totalCalls),change:"0%",changeType:"neutral",icon:A,description:"Direct calls"},{title:"Messages",value:ct.formatNumber(e.totalMessages),change:"0%",changeType:"neutral",icon:b,description:"Chat inquiries"},{title:"Total Revenue",value:`â‚¹${ct.formatNumber(e.totalRevenue)}`,change:n.change,changeType:n.changeType,icon:fe,description:"All property revenue"},{title:"Sold Properties",value:`â‚¹${ct.formatNumber(e.soldPropertyRevenue)}`,change:n.change,changeType:n.changeType,icon:fe,description:"Revenue from sold properties"},{title:"Leased Properties",value:`â‚¹${ct.formatNumber(e.leasedPropertyRevenue)}`,change:n.change,changeType:n.changeType,icon:fe,description:"Revenue from leased properties"},{title:"Rented Properties",value:`â‚¹${ct.formatNumber(e.rentedPropertyRevenue)}`,change:n.change,changeType:n.changeType,icon:fe,description:"Revenue from rented properties"},{title:"Avg. Rating",value:e.averageRating?.toFixed(1)||"0.0",change:"0%",changeType:"neutral",icon:R,description:"Customer reviews"}]})(z):[];K?.viewsData?.length?K.viewsData:ct.generateDateRange(n);const re=K?.leadsData?.length?K.leadsData:ct.generateDateRange(n);K?.conversionData?.length?K.conversionData:ct.generateDateRange(n),K?.revenueData?.length?K.revenueData:ct.generateDateRange(n);const ae=K?.propertyPerformance||[];!K?.leadSources?.length||K.leadSources,!K?.demographicsData?.length||K.demographicsData;const ne=K?.viewsData?.length?K.viewsData.slice(0,7).map((e,t)=>({name:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][t]||e.name,favorites:Math.floor(.1*e.value),shares:Math.floor(.05*e.value),inquiries:Math.floor(.02*e.value)})):[],se=K?.viewsData?.length?K.viewsData.map((e,t)=>({name:e.name,views:e.value||0,interactions:Math.floor(.15*(e.value||0)),conversions:Math.floor(.03*(e.value||0)),favorites:Math.floor(.08*(e.value||0)),shares:Math.floor(.04*(e.value||0)),inquiries:Math.floor(.06*(e.value||0))})):[],ce=se.length?se:[],ve=K?.propertyPerformance.slice(0,3)||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex "+(a?"flex-col space-y-4":"justify-between items-center"),children:[e.jsxs("div",{children:[e.jsx("h1",{className:(a?"text-2xl":"text-3xl")+" font-bold tracking-tight",children:"Analytics"}),e.jsx("p",{className:"text-muted-foreground",children:"Track your property performance and marketing insights"})]}),e.jsxs("div",{className:"flex "+(a?"flex-col space-y-2":"gap-2"),children:[e.jsxs(i,{value:n,onValueChange:e=>F(e),children:[e.jsx(l,{className:""+(a?"w-full":"w-40"),children:e.jsx(c,{})}),e.jsxs(d,{children:[e.jsx(p,{value:"7days",children:"Last 7 days"}),e.jsx(p,{value:"30days",children:"Last 30 days"}),e.jsx(p,{value:"90days",children:"Last 90 days"}),e.jsx(p,{value:"1year",children:"Last year"})]})]}),e.jsxs("div",{className:"flex "+(a?"flex-col space-y-2":"space-x-2"),children:[e.jsxs(u,{variant:"outline",onClick:()=>Q("csv"),disabled:U,className:""+(a?"w-full h-11":"h-9"),children:[U?e.jsx(o,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(C,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),e.jsxs(u,{variant:"outline",onClick:()=>Q("pdf"),disabled:U,className:""+(a?"w-full h-11":"h-9"),children:[U?e.jsx(o,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(C,{className:"w-4 h-4 mr-2"}),"Export PDF"]})]})]})]}),e.jsx("div",{className:"grid gap-4 "+(a?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"),children:te.map(t=>e.jsx(h,{children:e.jsx(m,{className:""+(a?"p-4":"p-6"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:(a?"text-xs":"text-sm")+" font-medium text-muted-foreground",children:t.title}),e.jsx("p",{className:(a?"text-xl":"text-2xl")+" font-bold",children:t.value}),e.jsxs("div",{className:"flex items-center mt-2",children:["increase"===t.changeType?e.jsx(D,{className:(a?"w-3 h-3":"w-4 h-4")+" text-green-500 mr-1"}):"decrease"===t.changeType?e.jsx(E,{className:(a?"w-3 h-3":"w-4 h-4")+" text-red-500 mr-1"}):null,e.jsx("span",{className:`${a?"text-xs":"text-sm"} ${"increase"===t.changeType?"text-green-500":"decrease"===t.changeType?"text-red-500":"text-muted-foreground"}`,children:t.change})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t.description})]}),e.jsx(t.icon,{className:(a?"h-6 w-6":"h-8 w-8")+" text-muted-foreground"})]})})},t.title))}),e.jsxs("div",{className:"grid gap-6 "+(a?"grid-cols-1":"grid-cols-1 lg:grid-cols-2"),children:[e.jsxs(h,{className:"lg:col-span-2",children:[e.jsx(x,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(y,{children:"Property Engagement Overview"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Track views, interactions, and conversions across your properties"})]}),e.jsxs("div",{className:"flex gap-2 "+(a?"flex-col":"flex-row"),children:[e.jsxs(i,{value:G,onValueChange:e=>Y(e),children:[e.jsx(l,{className:""+(a?"w-full":"w-40"),children:e.jsx(c,{})}),e.jsxs(d,{children:[e.jsx(p,{value:"all",children:"All Metrics"}),e.jsx(p,{value:"views",children:"Views Only"}),e.jsx(p,{value:"interactions",children:"Interactions"}),e.jsx(p,{value:"conversions",children:"Conversions"})]})]}),e.jsxs(i,{value:H,onValueChange:e=>X(e),children:[e.jsx(l,{className:""+(a?"w-full":"w-36"),children:e.jsx(c,{})}),e.jsxs(d,{children:[e.jsx(p,{value:"composed",children:"Combined"}),e.jsx(p,{value:"area",children:"Area Chart"}),e.jsx(p,{value:"bar",children:"Bar Chart"})]})]})]})]})}),e.jsx(m,{children:ce.length>0?e.jsxs(e.Fragment,{children:[e.jsx(pe,{width:"100%",height:350,children:"composed"===H?e.jsxs(it,{data:ce,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorViews",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),e.jsxs("linearGradient",{id:"colorInteractions",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:.1})]})]}),e.jsx(ue,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(ie,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(le,{stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(he,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),e.jsx(me,{wrapperStyle:{paddingTop:"15px"},iconType:"circle"}),"all"===G||"views"===G?e.jsx(Ee,{type:"monotone",dataKey:"views",fill:"url(#colorViews)",stroke:"#3b82f6",strokeWidth:2,name:"Views"}):null,"all"===G||"interactions"===G?e.jsx(oe,{dataKey:"interactions",fill:"#8b5cf6",name:"Interactions",radius:[4,4,0,0]}):null,"all"===G||"conversions"===G?e.jsx(de,{type:"monotone",dataKey:"conversions",stroke:"#10b981",strokeWidth:3,dot:{r:5,fill:"#10b981"},name:"Conversions"}):null,"all"===G?e.jsxs(e.Fragment,{children:[e.jsx(de,{type:"monotone",dataKey:"favorites",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5 5",dot:{r:4},name:"Favorites"}),e.jsx(de,{type:"monotone",dataKey:"shares",stroke:"#ec4899",strokeWidth:2,strokeDasharray:"5 5",dot:{r:4},name:"Shares"})]}):null]}):"area"===H?e.jsxs(ot,{data:ce,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"areaViews",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),e.jsxs("linearGradient",{id:"areaInteractions",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:.1})]}),e.jsxs("linearGradient",{id:"areaConversions",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),e.jsx(ue,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(ie,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(le,{stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(he,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(me,{wrapperStyle:{paddingTop:"15px"}}),"all"===G||"views"===G?e.jsx(Ee,{type:"monotone",dataKey:"views",stroke:"#3b82f6",fill:"url(#areaViews)",name:"Views"}):null,"all"===G||"interactions"===G?e.jsx(Ee,{type:"monotone",dataKey:"interactions",stroke:"#8b5cf6",fill:"url(#areaInteractions)",name:"Interactions"}):null,"all"===G||"conversions"===G?e.jsx(Ee,{type:"monotone",dataKey:"conversions",stroke:"#10b981",fill:"url(#areaConversions)",name:"Conversions"}):null]}):e.jsxs(st,{data:ce,children:[e.jsx(ue,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(ie,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(le,{stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(he,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(me,{wrapperStyle:{paddingTop:"15px"}}),"all"===G||"views"===G?e.jsx(oe,{dataKey:"views",fill:"#3b82f6",name:"Views",radius:[4,4,0,0]}):null,"all"===G||"interactions"===G?e.jsx(oe,{dataKey:"interactions",fill:"#8b5cf6",name:"Interactions",radius:[4,4,0,0]}):null,"all"===G||"conversions"===G?e.jsx(oe,{dataKey:"conversions",fill:"#10b981",name:"Conversions",radius:[4,4,0,0]}):null]})}),e.jsxs("div",{className:"grid gap-3 mt-6 pt-4 border-t "+(a?"grid-cols-1":"grid-cols-3 md:grid-cols-6"),children:[e.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded-lg",children:[e.jsx(f,{className:(a?"w-4 h-4":"w-5 h-5")+" mx-auto text-blue-600 mb-1"}),e.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Views"}),e.jsx("div",{className:(a?"text-sm":"text-lg")+" font-bold text-blue-700",children:ce.reduce((e,t)=>e+(t.views||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded-lg",children:[e.jsx(v,{className:(a?"w-4 h-4":"w-5 h-5")+" mx-auto text-purple-600 mb-1"}),e.jsx("div",{className:"text-xs text-purple-600 font-medium",children:"Interactions"}),e.jsx("div",{className:(a?"text-sm":"text-lg")+" font-bold text-purple-700",children:ce.reduce((e,t)=>e+(t.interactions||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-2 bg-green-50 rounded-lg",children:[e.jsx(D,{className:(a?"w-4 h-4":"w-5 h-5")+" mx-auto text-green-600 mb-1"}),e.jsx("div",{className:"text-xs text-green-600 font-medium",children:"Conversions"}),e.jsx("div",{className:(a?"text-sm":"text-lg")+" font-bold text-green-700",children:ce.reduce((e,t)=>e+(t.conversions||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-2 bg-amber-50 rounded-lg",children:[e.jsx(g,{className:(a?"w-4 h-4":"w-5 h-5")+" mx-auto text-amber-600 mb-1"}),e.jsx("div",{className:"text-xs text-amber-600 font-medium",children:"Favorites"}),e.jsx("div",{className:(a?"text-sm":"text-lg")+" font-bold text-amber-700",children:ce.reduce((e,t)=>e+(t.favorites||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-2 bg-pink-50 rounded-lg",children:[e.jsx(ye,{className:(a?"w-4 h-4":"w-5 h-5")+" mx-auto text-pink-600 mb-1"}),e.jsx("div",{className:"text-xs text-pink-600 font-medium",children:"Shares"}),e.jsx("div",{className:(a?"text-sm":"text-lg")+" font-bold text-pink-700",children:ce.reduce((e,t)=>e+(t.shares||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-2 bg-cyan-50 rounded-lg",children:[e.jsx(b,{className:(a?"w-4 h-4":"w-5 h-5")+" mx-auto text-cyan-600 mb-1"}),e.jsx("div",{className:"text-xs text-cyan-600 font-medium",children:"Inquiries"}),e.jsx("div",{className:(a?"text-sm":"text-lg")+" font-bold text-cyan-700",children:ce.reduce((e,t)=>e+(t.inquiries||0),0).toLocaleString()})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-[350px] text-center",children:[e.jsx(j,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Engagement Data"}),e.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Property engagement metrics will appear here once your properties start receiving views and interactions from potential buyers."})]})})]}),e.jsxs(h,{className:"lg:col-span-2",children:[e.jsxs(x,{children:[e.jsx(y,{children:"Inquiry Response Time"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Average time to respond to customer inquiries"})]}),e.jsxs(m,{children:[e.jsx(pe,{width:"100%",height:300,children:e.jsxs(ot,{data:re,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorResponseTime",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})}),e.jsx(ue,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(ie,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(le,{stroke:"#6b7280",tick:{fontSize:12},label:{value:"Hours",angle:-90,position:"insideLeft"}}),e.jsx(he,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:e=>[`${e.toFixed(1)} hours`,"Response Time"]}),e.jsx(Ee,{type:"monotone",dataKey:"value",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorResponseTime)"})]})}),e.jsxs("div",{className:"grid gap-4 mt-6 pt-4 border-t "+(a?"grid-cols-1":"grid-cols-3"),children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[re.length>0?(re.reduce((e,t)=>e+t.value,0)/re.length).toFixed(1):"0.0","h"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Fastest"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[re.length>0?Math.min(...re.map(e=>e.value)).toFixed(1):"0.0","h"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Inquiries"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:z?.totalMessages||0})]})]})]})]})]}),e.jsxs(h,{children:[e.jsx(x,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{children:"Property Performance"}),e.jsxs(i,{value:L,onValueChange:M,children:[e.jsx(l,{className:"w-48",children:e.jsx(c,{placeholder:"Filter by property"})}),e.jsxs(d,{children:[e.jsx(p,{value:"all",children:"All Properties"}),B.length>0?B.map(t=>e.jsxs(p,{value:t._id,children:[(t.title||"Untitled Property").substring(0,30),t.title&&t.title.length>30?"...":""]},t._id)):e.jsx(p,{value:"no-properties",disabled:!0,children:"No properties available"})]})]})]})}),e.jsx(m,{children:0===B.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-center",children:[e.jsx(w,{className:"w-16 h-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Properties Found"}),e.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:"You haven't added any properties yet. Add your first property to start tracking performance analytics."}),e.jsx(u,{onClick:()=>window.location.href="/vendor/properties/add",className:"mt-2",children:"Add Your First Property"})]}):ae.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsx(pe,{width:"100%",height:400,children:e.jsxs(ot,{data:ae,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorViews",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),e.jsx(ue,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.5}),e.jsx(ie,{dataKey:"title",angle:-45,textAnchor:"end",height:100,tick:{fontSize:11,fill:"#6b7280"},interval:0}),e.jsx(le,{tick:{fontSize:12,fill:"#6b7280"},label:{value:"Views",angle:-90,position:"insideLeft",style:{fill:"#6b7280"}}}),e.jsx(he,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.96)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(e,t)=>[e,t]}),e.jsx(me,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),e.jsx(Ee,{type:"monotone",dataKey:"views",fill:"url(#colorViews)",stroke:"#3b82f6",strokeWidth:3,name:"Property Views"})]})}),e.jsxs("div",{className:"grid gap-4 pt-4 border-t "+(a?"grid-cols-2":"grid-cols-2 md:grid-cols-4"),children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-blue-600 font-medium mb-1",children:"Total Views"}),e.jsx("div",{className:"text-2xl font-bold text-blue-700",children:ae.reduce((e,t)=>e+(t.views||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-purple-600 font-medium mb-1",children:"Total Favorites"}),e.jsx("div",{className:"text-2xl font-bold text-purple-700",children:ae.reduce((e,t)=>e+(t.favorites||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-purple-600 font-medium mb-1",children:"Active Properties"}),e.jsx("div",{className:"text-2xl font-bold text-purple-700",children:ae.length})]}),e.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-amber-600 font-medium mb-1",children:"Avg Views/Property"}),e.jsx("div",{className:"text-2xl font-bold text-amber-700",children:ae.length>0?Math.round(ae.reduce((e,t)=>e+(t.views||0),0)/ae.length):"0"})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-center",children:[e.jsx(P,{className:"w-16 h-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Coming Soon"}),e.jsx("p",{className:"text-muted-foreground max-w-md",children:"Property performance analytics will be available once your properties receive sufficient views and interactions."})]})})]}),e.jsxs("div",{className:"grid gap-6 "+(a?"grid-cols-1":"grid-cols-1 lg:grid-cols-2"),children:[e.jsxs(h,{children:[e.jsx(x,{children:e.jsx(y,{children:"Weekly Engagement"})}),e.jsx(m,{children:ne.length>0?e.jsx(pe,{width:"100%",height:300,children:e.jsxs(xe,{data:ne,children:[e.jsx(ue,{strokeDasharray:"3 3"}),e.jsx(ie,{dataKey:"name"}),e.jsx(le,{}),e.jsx(he,{}),e.jsx(de,{type:"monotone",dataKey:"favorites",stroke:"#8884d8",strokeWidth:2,name:"Favorites"}),e.jsx(de,{type:"monotone",dataKey:"shares",stroke:"#82ca9d",strokeWidth:2,name:"Shares"}),e.jsx(de,{type:"monotone",dataKey:"inquiries",stroke:"#ffc658",strokeWidth:2,name:"Inquiries"})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-center",children:[e.jsx(P,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Coming Soon"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Weekly engagement data will be displayed once sufficient activity is recorded"})]})})]}),e.jsxs(h,{children:[e.jsx(x,{children:e.jsx(y,{children:"Top Performing Properties"})}),e.jsx(m,{children:ve.length>0?e.jsx("div",{className:"space-y-4",children:ve.map((t,r)=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-16 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(w,{className:"w-6 h-6 text-gray-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium truncate",children:t.title||"Untitled Property"}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("span",{className:"flex items-center text-xs text-muted-foreground",children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),t.views||0]}),e.jsxs("span",{className:"flex items-center text-xs text-muted-foreground",children:[e.jsx(v,{className:"w-3 h-3 mr-1"}),t.leads||0]}),e.jsxs("span",{className:"flex items-center text-xs text-muted-foreground",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),t.conversionRate||0,"%"]})]})]}),e.jsx(N,{variant:"default",className:"flex-shrink-0",children:ct.formatCurrency(t.revenue||0)})]},t.propertyId||r))}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-center",children:[e.jsx(w,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Data Available"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Top performing properties will appear here once you have property data and analytics"})]})})]})]}),e.jsxs(h,{children:[e.jsx(x,{children:e.jsx(y,{children:"Insights & Recommendations"})}),e.jsx(m,{children:e.jsxs("div",{className:"grid gap-4 "+(a?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"),children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Performance Analytics"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Detailed analytics insights will be available once sufficient data is collected from your property listings."})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Content Optimization"}),e.jsx("p",{className:"text-sm text-green-700",children:"Recommendations for improving your property listings will appear here based on performance data."})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:"Market Insights"}),e.jsx("p",{className:"text-sm text-amber-700",children:"Market trends and pricing strategy insights will be generated from your property performance data."})]})]})})]})]})};export{dt as default};
