import{j as t}from"./ui-CMGlPv8M.js";import{R as v,r as C}from"./router-02yfTqxa.js";import{b8 as ze,t as We,a1 as xt,Q as Ce,r as me,s as he,v as fe,w as xe,x as $,f as Ee,a as X,e as Z,b as ee,c as te,E as ye,U as qe,O as yt,ag as _e,aP as vt,aJ as $e,n as ve,B as gt,aH as bt,z as Ue,aB as Ge}from"./index-DGiQKbnC.js";import{D as He}from"./download-Dx_JF_-F.js";import{T as Re}from"./trending-up-DL-k5KbV.js";import{T as jt}from"./trending-down-CKfKx8F3.js";import{f as V,b as z,m as ge,i as ne,c as we,A as at,d as K,e as G,g as wt,h as Ie,j as At,k as rt,u as nt,l as Ae,G as it,n as se,o as Ne,D as Nt,S as Ye,p as Pt,q as St,r as st,E as Ot,s as kt,t as Dt,v as Be,B as ie,X as W,Y as q,w as Ve,a as J,R as be,C as ae,T as re,x as je,L as Tt}from"./LineChart-VOkXkqOc.js";import{S as Ct}from"./share-Bb-l1092.js";import{D as Xe}from"./dollar-sign-CYcO9sIf.js";import"./vendor-Dazix4UH.js";var Et=["layout","type","stroke","connectNulls","isRange","ref"],_t=["key"],ot;function oe(a){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(a)}function lt(a,e){if(a==null)return{};var n=$t(a,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(n[r]=a[r])}return n}function $t(a,e){if(a==null)return{};var n={};for(var r in a)if(Object.prototype.hasOwnProperty.call(a,r)){if(e.indexOf(r)>=0)continue;n[r]=a[r]}return n}function Q(){return Q=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Q.apply(this,arguments)}function Ze(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable})),n.push.apply(n,r)}return n}function U(a){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ze(Object(n),!0).forEach(function(r){B(a,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(n,r))})}return a}function Rt(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function Je(a,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,dt(r.key),r)}}function Lt(a,e,n){return e&&Je(a.prototype,e),n&&Je(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function It(a,e,n){return e=Pe(e),Ft(a,ct()?Reflect.construct(e,n||[],Pe(a).constructor):e.apply(a,n))}function Ft(a,e){if(e&&(oe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mt(a)}function Mt(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ct(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ct=function(){return!!a})()}function Pe(a){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pe(a)}function Kt(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&Fe(a,e)}function Fe(a,e){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fe(a,e)}function B(a,e,n){return e=dt(e),e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function dt(a){var e=zt(a,"string");return oe(e)=="symbol"?e:e+""}function zt(a,e){if(oe(a)!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var r=n.call(a,e);if(oe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}var R=(function(a){function e(){var n;Rt(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=It(this,e,[].concat(i)),B(n,"state",{isAnimationFinished:!0}),B(n,"id",nt("recharts-area-")),B(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ae(l)&&l()}),B(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ae(l)&&l()}),n}return Kt(e,a),Lt(e,[{key:"renderDots",value:function(r,i,s){var l=this.props.isAnimationActive,d=this.state.isAnimationFinished;if(l&&!d)return null;var m=this.props,c=m.dot,p=m.points,u=m.dataKey,f=V(this.props,!1),y=V(c,!0),w=p.map(function(b,P){var A=U(U(U({key:"dot-".concat(P),r:3},f),y),{},{index:P,cx:b.x,cy:b.y,dataKey:u,value:b.value,payload:b.payload,points:p});return e.renderDotItem(c,A)}),h={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return v.createElement(z,Q({className:"recharts-area-dots"},h),w)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,l=i.points,d=i.strokeWidth,m=l[0].x,c=l[l.length-1].x,p=r*Math.abs(m-c),u=ge(l.map(function(f){return f.y||0}));return ne(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(ge(s.map(function(f){return f.y||0})),u)),ne(u)?v.createElement("rect",{x:m<c?m:m-p,y:0,width:p,height:Math.floor(u+(d?parseInt("".concat(d),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,l=i.points,d=i.strokeWidth,m=l[0].y,c=l[l.length-1].y,p=r*Math.abs(m-c),u=ge(l.map(function(f){return f.x||0}));return ne(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(ge(s.map(function(f){return f.x||0})),u)),ne(u)?v.createElement("rect",{x:0,y:m<c?m:m-p,width:u+(d?parseInt("".concat(d),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,l){var d=this.props,m=d.layout,c=d.type,p=d.stroke,u=d.connectNulls,f=d.isRange;d.ref;var y=lt(d,Et);return v.createElement(z,{clipPath:s?"url(#clipPath-".concat(l,")"):null},v.createElement(we,Q({},V(y,!0),{points:r,connectNulls:u,type:c,baseLine:i,layout:m,stroke:"none",className:"recharts-area-area"})),p!=="none"&&v.createElement(we,Q({},V(this.props,!1),{className:"recharts-area-curve",layout:m,type:c,connectNulls:u,fill:"none",points:r})),p!=="none"&&f&&v.createElement(we,Q({},V(this.props,!1),{className:"recharts-area-curve",layout:m,type:c,connectNulls:u,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,l=this.props,d=l.points,m=l.baseLine,c=l.isAnimationActive,p=l.animationBegin,u=l.animationDuration,f=l.animationEasing,y=l.animationId,w=this.state,h=w.prevPoints,b=w.prevBaseLine;return v.createElement(at,{begin:p,duration:u,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var A=P.t;if(h){var g=h.length/d.length,j=d.map(function(S,k){var _=Math.floor(k*g);if(h[_]){var E=h[_],F=K(E.x,S.x),T=K(E.y,S.y);return U(U({},S),{},{x:F(A),y:T(A)})}return S}),N;if(ne(m)&&typeof m=="number"){var O=K(b,m);N=O(A)}else if(G(m)||wt(m)){var D=K(b,0);N=D(A)}else N=m.map(function(S,k){var _=Math.floor(k*g);if(b[_]){var E=b[_],F=K(E.x,S.x),T=K(E.y,S.y);return U(U({},S),{},{x:F(A),y:T(A)})}return S});return s.renderAreaStatically(j,N,r,i)}return v.createElement(z,null,v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(A))),v.createElement(z,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(d,m,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,l=s.points,d=s.baseLine,m=s.isAnimationActive,c=this.state,p=c.prevPoints,u=c.prevBaseLine,f=c.totalLength;return m&&l&&l.length&&(!p&&f>0||!Ie(p,l)||!Ie(u,d))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(l,d,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,l=i.dot,d=i.points,m=i.className,c=i.top,p=i.left,u=i.xAxis,f=i.yAxis,y=i.width,w=i.height,h=i.isAnimationActive,b=i.id;if(s||!d||!d.length)return null;var P=this.state.isAnimationFinished,A=d.length===1,g=ze("recharts-area",m),j=u&&u.allowDataOverflow,N=f&&f.allowDataOverflow,O=j||N,D=G(b)?this.id:b,S=(r=V(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=S.r,_=k===void 0?3:k,E=S.strokeWidth,F=E===void 0?2:E,T=At(l)?l:{},de=T.clipDot,o=de===void 0?!0:de,x=_*2+F;return v.createElement(z,{className:g},j||N?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(D)},v.createElement("rect",{x:j?p:p-y/2,y:N?c:c-w/2,width:j?y:y*2,height:N?w:w*2})),!o&&v.createElement("clipPath",{id:"clipPath-dots-".concat(D)},v.createElement("rect",{x:p-x/2,y:c-x/2,width:y+x,height:w+x}))):null,A?null:this.renderArea(O,D),(l||A)&&this.renderDots(O,o,D),(!h||P)&&rt.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(C.PureComponent);ot=R;B(R,"displayName","Area");B(R,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!it.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});B(R,"getBaseValue",function(a,e,n,r){var i=a.layout,s=a.baseValue,l=e.props.baseValue,d=l??s;if(ne(d)&&typeof d=="number")return d;var m=i==="horizontal"?r:n,c=m.scale.domain();if(m.type==="number"){var p=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return d==="dataMin"?u:d==="dataMax"||p<0?p:Math.max(Math.min(c[0],c[1]),0)}return d==="dataMin"?c[0]:d==="dataMax"?c[1]:c[0]});B(R,"getComposedData",function(a){var e=a.props,n=a.item,r=a.xAxis,i=a.yAxis,s=a.xAxisTicks,l=a.yAxisTicks,d=a.bandSize,m=a.dataKey,c=a.stackedData,p=a.dataStartIndex,u=a.displayedData,f=a.offset,y=e.layout,w=c&&c.length,h=ot.getBaseValue(e,n,r,i),b=y==="horizontal",P=!1,A=u.map(function(j,N){var O;w?O=c[p+N]:(O=se(j,m),Array.isArray(O)?P=!0:O=[h,O]);var D=O[1]==null||w&&se(j,m)==null;return b?{x:Ne({axis:r,ticks:s,bandSize:d,entry:j,index:N}),y:D?null:i.scale(O[1]),value:O,payload:j}:{x:D?null:r.scale(O[1]),y:Ne({axis:i,ticks:l,bandSize:d,entry:j,index:N}),value:O,payload:j}}),g;return w||P?g=A.map(function(j){var N=Array.isArray(j.value)?j.value[0]:null;return b?{x:j.x,y:N!=null&&j.y!=null?i.scale(N):null}:{x:N!=null?r.scale(N):null,y:j.y}}):g=b?i.scale(h):r.scale(h),U({points:A,baseLine:g,layout:y,isRange:P},f)});B(R,"renderDotItem",function(a,e){var n;if(v.isValidElement(a))n=v.cloneElement(a,e);else if(Ae(a))n=a(e);else{var r=ze("recharts-area-dot",typeof a!="boolean"?a.className:""),i=e.key,s=lt(e,_t);n=v.createElement(Nt,Q({},s,{key:i,className:r}))}return n});function le(a){"@babel/helpers - typeof";return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(a)}function Bt(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function Vt(a,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,mt(r.key),r)}}function Wt(a,e,n){return e&&Vt(a.prototype,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function qt(a,e,n){return e=Se(e),Ut(a,pt()?Reflect.construct(e,n||[],Se(a).constructor):e.apply(a,n))}function Ut(a,e){if(e&&(le(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gt(a)}function Gt(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function pt(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pt=function(){return!!a})()}function Se(a){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Se(a)}function Ht(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&Me(a,e)}function Me(a,e){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Me(a,e)}function ut(a,e,n){return e=mt(e),e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function mt(a){var e=Yt(a,"string");return le(e)=="symbol"?e:e+""}function Yt(a,e){if(le(a)!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var r=n.call(a,e);if(le(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}var ke=(function(a){function e(){return Bt(this,e),qt(this,e,arguments)}return Ht(e,a),Wt(e,[{key:"render",value:function(){return null}}])})(C.Component);ut(ke,"displayName","ZAxis");ut(ke,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Xt=["option","isActive"];function pe(){return pe=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},pe.apply(this,arguments)}function Zt(a,e){if(a==null)return{};var n=Jt(a,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(n[r]=a[r])}return n}function Jt(a,e){if(a==null)return{};var n={};for(var r in a)if(Object.prototype.hasOwnProperty.call(a,r)){if(e.indexOf(r)>=0)continue;n[r]=a[r]}return n}function Qt(a){var e=a.option,n=a.isActive,r=Zt(a,Xt);return typeof e=="string"?C.createElement(Ye,pe({option:C.createElement(Pt,pe({type:e},r)),isActive:n,shapeType:"symbols"},r)):C.createElement(Ye,pe({option:e,isActive:n,shapeType:"symbols"},r))}function ce(a){"@babel/helpers - typeof";return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(a)}function ue(){return ue=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ue.apply(this,arguments)}function Qe(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable})),n.push.apply(n,r)}return n}function I(a){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qe(Object(n),!0).forEach(function(r){H(a,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(n,r))})}return a}function ea(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function et(a,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,ft(r.key),r)}}function ta(a,e,n){return e&&et(a.prototype,e),n&&et(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function aa(a,e,n){return e=Oe(e),ra(a,ht()?Reflect.construct(e,n||[],Oe(a).constructor):e.apply(a,n))}function ra(a,e){if(e&&(ce(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return na(a)}function na(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ht(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ht=function(){return!!a})()}function Oe(a){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oe(a)}function ia(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&Ke(a,e)}function Ke(a,e){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ke(a,e)}function H(a,e,n){return e=ft(e),e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function ft(a){var e=sa(a,"string");return ce(e)=="symbol"?e:e+""}function sa(a,e){if(ce(a)!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var r=n.call(a,e);if(ce(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}var De=(function(a){function e(){var n;ea(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=aa(this,e,[].concat(i)),H(n,"state",{isAnimationFinished:!1}),H(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),H(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),H(n,"id",nt("recharts-scatter-")),n}return ia(e,a),ta(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,s=this.props,l=s.shape,d=s.activeShape,m=s.activeIndex,c=V(this.props,!1);return r.map(function(p,u){var f=m===u,y=f?d:l,w=I(I({},c),p);return v.createElement(z,ue({className:"recharts-scatter-symbol",key:"symbol-".concat(p?.cx,"-").concat(p?.cy,"-").concat(p?.size,"-").concat(u)},St(i.props,p,u),{role:"img"}),v.createElement(Qt,ue({option:y,isActive:f,key:"symbol-".concat(u)},w)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,s=i.points,l=i.isAnimationActive,d=i.animationBegin,m=i.animationDuration,c=i.animationEasing,p=i.animationId,u=this.state.prevPoints;return v.createElement(at,{begin:d,duration:m,isActive:l,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var y=f.t,w=s.map(function(h,b){var P=u&&u[b];if(P){var A=K(P.cx,h.cx),g=K(P.cy,h.cy),j=K(P.size,h.size);return I(I({},h),{},{cx:A(y),cy:g(y),size:j(y)})}var N=K(0,h.size);return I(I({},h),{},{size:N(y)})});return v.createElement(z,null,r.renderSymbolsStatically(w))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,s=r.isAnimationActive,l=this.state.prevPoints;return s&&i&&i.length&&(!l||!Ie(l,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,l=i.xAxis,d=i.yAxis,m=i.children,c=st(m,Ot);return c?c.map(function(p,u){var f=p.props,y=f.direction,w=f.dataKey;return v.cloneElement(p,{key:"".concat(y,"-").concat(w,"-").concat(s[u]),data:s,xAxis:l,yAxis:d,layout:y==="x"?"vertical":"horizontal",dataPointFormatter:function(b,P){return{x:b.cx,y:b.cy,value:y==="x"?+b.node.x:+b.node.y,errorVal:se(b,P)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,s=r.line,l=r.lineType,d=r.lineJointType,m=V(this.props,!1),c=V(s,!1),p,u;if(l==="joint")p=i.map(function(g){return{x:g.cx,y:g.cy}});else if(l==="fitting"){var f=kt(i),y=f.xmin,w=f.xmax,h=f.a,b=f.b,P=function(j){return h*j+b};p=[{x:y,y:P(y)},{x:w,y:P(w)}]}var A=I(I(I({},m),{},{fill:"none",stroke:m&&m.fill},c),{},{points:p});return v.isValidElement(s)?u=v.cloneElement(s,A):Ae(s)?u=s(A):u=v.createElement(we,ue({},A,{type:d})),v.createElement(z,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.points,l=r.line,d=r.className,m=r.xAxis,c=r.yAxis,p=r.left,u=r.top,f=r.width,y=r.height,w=r.id,h=r.isAnimationActive;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,P=ze("recharts-scatter",d),A=m&&m.allowDataOverflow,g=c&&c.allowDataOverflow,j=A||g,N=G(w)?this.id:w;return v.createElement(z,{className:P,clipPath:j?"url(#clipPath-".concat(N,")"):null},A||g?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(N)},v.createElement("rect",{x:A?p:p-f/2,y:g?u:u-y/2,width:A?f:f*2,height:g?y:y*2}))):null,l&&this.renderLine(),this.renderErrorBar(),v.createElement(z,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!h||b)&&rt.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(C.PureComponent);H(De,"displayName","Scatter");H(De,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!it.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});H(De,"getComposedData",function(a){var e=a.xAxis,n=a.yAxis,r=a.zAxis,i=a.item,s=a.displayedData,l=a.xAxisTicks,d=a.yAxisTicks,m=a.offset,c=i.props.tooltipType,p=st(i.props.children,Dt),u=G(e.dataKey)?i.props.dataKey:e.dataKey,f=G(n.dataKey)?i.props.dataKey:n.dataKey,y=r&&r.dataKey,w=r?r.range:ke.defaultProps.range,h=w&&w[0],b=e.scale.bandwidth?e.scale.bandwidth():0,P=n.scale.bandwidth?n.scale.bandwidth():0,A=s.map(function(g,j){var N=se(g,u),O=se(g,f),D=!G(y)&&se(g,y)||"-",S=[{name:G(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:N,payload:g,dataKey:u,type:c},{name:G(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:O,payload:g,dataKey:f,type:c}];D!=="-"&&S.push({name:r.name||r.dataKey,unit:r.unit||"",value:D,payload:g,dataKey:y,type:c});var k=Ne({axis:e,ticks:l,bandSize:b,entry:g,index:j,dataKey:u}),_=Ne({axis:n,ticks:d,bandSize:P,entry:g,index:j,dataKey:f}),E=D!=="-"?r.scale(D):h,F=Math.sqrt(Math.max(E,0)/Math.PI);return I(I({},g),{},{cx:k,cy:_,x:k-F,y:_-F,xAxis:e,yAxis:n,zAxis:r,width:2*F,height:2*F,size:E,node:{x:N,y:O,z:D},tooltipPayload:S,tooltipPosition:{x:k,y:_},payload:g},p&&p[j]&&p[j].props)});return I({points:A},m)});var oa=Be({chartName:"BarChart",GraphicalChild:ie,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:W},{axisType:"yAxis",AxisComp:q}],formatAxisMap:Ve}),Le=Be({chartName:"AreaChart",GraphicalChild:R,axisComponents:[{axisType:"xAxis",AxisComp:W},{axisType:"yAxis",AxisComp:q}],formatAxisMap:Ve}),la=Be({chartName:"ComposedChart",GraphicalChild:[J,R,ie,De],axisComponents:[{axisType:"xAxis",AxisComp:W},{axisType:"yAxis",AxisComp:q},{axisType:"zAxis",AxisComp:ke}],formatAxisMap:Ve});const tt="https://api.akodefy.com/api";class ca{async makeRequest(e,n={}){const r=`${tt}${e}`,i={headers:{"Content-Type":"application/json",...n.headers},...n},s=localStorage.getItem("token");s&&(i.headers={...i.headers,Authorization:`Bearer ${s}`});try{const l=await fetch(r,i);if(!l.ok){const d=await l.json().catch(()=>({success:!1,message:`HTTP ${l.status}: ${l.statusText}`}));throw new Error(d.message||"An error occurred")}return await l.json()}catch(l){throw console.error("Analytics API request failed:",l),l}}async getOverviewStats(e){try{const n=new URLSearchParams;n.append("timeframe",e.timeframe),e.propertyId&&n.append("propertyId",e.propertyId),e.dateFrom&&n.append("dateFrom",e.dateFrom),e.dateTo&&n.append("dateTo",e.dateTo);const r=`/vendors/analytics/overview?${n.toString()}`,i=await this.makeRequest(r);return i.success&&i.data?i.data:{totalViews:0,totalLeads:0,totalCalls:0,totalMessages:0,totalRevenue:0,totalProperties:0,averageRating:0,responseTime:"Not calculated",conversionRate:0}}catch(n){return console.error("Failed to fetch overview stats:",n),{totalViews:0,totalLeads:0,totalCalls:0,totalMessages:0,totalRevenue:0,totalProperties:0,averageRating:0,responseTime:"Not calculated",conversionRate:0}}}async getPerformanceMetrics(e){try{const n=new URLSearchParams;n.append("timeframe",e.timeframe),e.propertyId&&n.append("propertyId",e.propertyId),e.dateFrom&&n.append("dateFrom",e.dateFrom),e.dateTo&&n.append("dateTo",e.dateTo);const r=`/vendors/analytics/performance?${n.toString()}`,i=await this.makeRequest(r);return i.success&&i.data?i.data:{viewsData:[],leadsData:[],conversionData:[],revenueData:[],propertyPerformance:[],leadSources:[],demographicsData:[]}}catch(n){return console.error("Failed to fetch performance metrics:",n),{viewsData:[],leadsData:[],conversionData:[],revenueData:[],propertyPerformance:[],leadSources:[],demographicsData:[]}}}async exportAnalyticsData(e,n="csv"){try{const r=new URLSearchParams;r.append("timeframe",e.timeframe),r.append("format",n),e.propertyId&&r.append("propertyId",e.propertyId),e.dateFrom&&r.append("dateFrom",e.dateFrom),e.dateTo&&r.append("dateTo",e.dateTo);const i=`/vendors/analytics/export?${r.toString()}`,s=await fetch(`${tt}${i}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!s.ok)throw new Error("Failed to export analytics data");const l=await s.blob();return We({title:"Success",description:`Analytics data exported as ${n.toUpperCase()}!`}),l}catch(r){const i=r instanceof Error?r.message:"Failed to export analytics data";throw We({title:"Error",description:i,variant:"destructive"}),r}}formatCurrency(e){return e==null||isNaN(e)?"₹0":e>=1e7?`₹${(e/1e7).toFixed(1)} Cr`:e>=1e5?`₹${(e/1e5).toFixed(1)} L`:`₹${e.toLocaleString("en-IN")}`}formatNumber(e){return e==null||isNaN(e)?"0":e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString()}formatPercentage(e){return e==null||isNaN(e)?"0%":`${e.toFixed(1)}%`}calculateChangePercentage(e,n){return n===0?e>0?100:0:(e-n)/n*100}getChangeType(e){return e>0?"increase":e<0?"decrease":"neutral"}getChangeColor(e){switch(e){case"increase":return"text-green-600";case"decrease":return"text-red-600";case"neutral":return"text-gray-600"}}generateDateRange(e){const n=new Date,r=[];switch(e){case"7days":for(let i=6;i>=0;i--){const s=new Date(n);s.setDate(s.getDate()-i),r.push({name:s.toLocaleDateString("en-US",{weekday:"short"}),value:0})}break;case"30days":for(let i=29;i>=0;i--){const s=new Date(n);s.setDate(s.getDate()-i),r.push({name:s.getDate().toString(),value:0})}break;case"90days":for(let i=11;i>=0;i--){const s=new Date(n);s.setMonth(s.getMonth()-i),r.push({name:s.toLocaleDateString("en-US",{month:"short"}),value:0})}break;case"1year":for(let i=11;i>=0;i--){const s=new Date(n);s.setMonth(s.getMonth()-i),r.push({name:s.toLocaleDateString("en-US",{month:"short"}),value:0})}break}return r}downloadBlob(e,n){const r=window.URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}}const L=new ca,ba=()=>{const{toast:a}=xt(),[e,n]=C.useState("30days"),[r,i]=C.useState("all"),[s,l]=C.useState(!0),[d,m]=C.useState(null),[c,p]=C.useState(null),[u,f]=C.useState([]),[y,w]=C.useState(!1),[h,b]=C.useState("all"),[P,A]=C.useState("composed"),g={timeframe:e,propertyId:r!=="all"?r:void 0},j=async()=>{try{l(!0);const[o,x,Y]=await Promise.all([L.getOverviewStats(g),L.getPerformanceMetrics(g),bt.getVendorProperties({page:1,limit:100})]);m(o),p(x);const M=Y.success?Y.data.properties:[];f(M),r!=="all"&&!M.find(Te=>Te._id===r)&&i("all")}catch(o){console.error("Failed to load analytics data:",o),a({title:"Error",description:"Failed to load analytics data. Please try again.",variant:"destructive"})}finally{l(!1)}};C.useEffect(()=>{j()},[e,r]);const N=async o=>{try{w(!0);const x=await L.exportAnalyticsData(g,o),Y=`analytics-${e}-${Date.now()}.${o}`;L.downloadBlob(x,Y)}catch(x){console.error("Export failed:",x)}finally{w(!1)}};if(s)return t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ce,{className:"h-6 w-6 animate-spin"}),t.jsx("span",{children:"Loading analytics..."})]})});const D=d?(o=>{if(!o)return[{title:"Total Views",value:"0",change:"0%",changeType:"neutral",icon:ye,description:"Property page views"},{title:"Leads Generated",value:"Coming Soon",change:"",changeType:"neutral",icon:ve,description:"Feature in development"},{title:"Phone Calls",value:"0",change:"0%",changeType:"neutral",icon:Ue,description:"Direct calls"},{title:"Messages",value:"0",change:"0%",changeType:"neutral",icon:_e,description:"Chat inquiries"},{title:"Total Revenue",value:"₹0",change:"0%",changeType:"neutral",icon:Xe,description:"All properties"},{title:"Avg. Rating",value:"0.0",change:"0%",changeType:"neutral",icon:Ge,description:"Customer reviews"}];const x=M=>{if(M==null||isNaN(M))return{change:"0%",changeType:"neutral"};const Te=M.toFixed(1);return{change:`${M>0?"+":""}${Te}%`,changeType:M>0?"increase":M<0?"decrease":"neutral"}},Y=x(o.trends?.views?.growth);return x(o.trends?.leads?.growth),x(o.trends?.properties?.growth),[{title:"Total Views",value:L.formatNumber(o.totalViews),change:Y.change,changeType:Y.changeType,icon:ye,description:"Property page views"},{title:"Leads Generated",value:"Coming Soon",change:"",changeType:"neutral",icon:ve,description:"Feature in development"},{title:"Phone Calls",value:L.formatNumber(o.totalCalls),change:"0%",changeType:"neutral",icon:Ue,description:"Direct calls"},{title:"Messages",value:L.formatNumber(o.totalMessages),change:"0%",changeType:"neutral",icon:_e,description:"Chat inquiries"},{title:"Total Revenue",value:`₹${L.formatNumber(o.totalRevenue)}`,change:"0%",changeType:"neutral",icon:Xe,description:"All properties"},{title:"Avg. Rating",value:o.averageRating?.toFixed(1)||"0.0",change:"0%",changeType:"neutral",icon:Ge,description:"Customer reviews"}]})(d):[];c?.viewsData?.length?c.viewsData:L.generateDateRange(e);const S=c?.leadsData?.length?c.leadsData:L.generateDateRange(e);c?.conversionData?.length?c.conversionData:L.generateDateRange(e),c?.revenueData?.length?c.revenueData:L.generateDateRange(e);const k=c?.propertyPerformance||[];c?.leadSources?.length&&c.leadSources,c?.demographicsData?.length&&c.demographicsData;const _=c?.viewsData?.length?c.viewsData.slice(0,7).map((o,x)=>({name:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][x]||o.name,favorites:Math.floor(o.value*.1),shares:Math.floor(o.value*.05),inquiries:Math.floor(o.value*.02)})):[],E=c?.viewsData?.length?c.viewsData.map((o,x)=>({name:o.name,views:o.value||0,interactions:Math.floor((o.value||0)*.15),conversions:Math.floor((o.value||0)*.03),favorites:Math.floor((o.value||0)*.08),shares:Math.floor((o.value||0)*.04),inquiries:Math.floor((o.value||0)*.06)})):[],T=E.length?E:[],de=c?.propertyPerformance.slice(0,3)||[];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Track your property performance and marketing insights"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(me,{value:e,onValueChange:o=>n(o),children:[t.jsx(he,{className:"w-40",children:t.jsx(fe,{})}),t.jsxs(xe,{children:[t.jsx($,{value:"7days",children:"Last 7 days"}),t.jsx($,{value:"30days",children:"Last 30 days"}),t.jsx($,{value:"90days",children:"Last 90 days"}),t.jsx($,{value:"1year",children:"Last year"})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(Ee,{variant:"outline",onClick:()=>N("csv"),disabled:y,children:[y?t.jsx(Ce,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(He,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),t.jsxs(Ee,{variant:"outline",onClick:()=>N("pdf"),disabled:y,children:[y?t.jsx(Ce,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(He,{className:"w-4 h-4 mr-2"}),"Export PDF"]})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:D.map(o=>t.jsx(X,{children:t.jsx(Z,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:o.title}),t.jsx("p",{className:"text-2xl font-bold",children:o.value}),t.jsxs("div",{className:"flex items-center mt-2",children:[o.changeType==="increase"?t.jsx(Re,{className:"w-4 h-4 text-green-500 mr-1"}):o.changeType==="decrease"?t.jsx(jt,{className:"w-4 h-4 text-red-500 mr-1"}):null,t.jsx("span",{className:`text-sm ${o.changeType==="increase"?"text-green-500":o.changeType==="decrease"?"text-red-500":"text-muted-foreground"}`,children:o.change})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.description})]}),t.jsx(o.icon,{className:"h-8 w-8 text-muted-foreground"})]})})},o.title))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(X,{className:"lg:col-span-2",children:[t.jsx(ee,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(te,{children:"Property Engagement Overview"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Track views, interactions, and conversions across your properties"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(me,{value:h,onValueChange:o=>b(o),children:[t.jsx(he,{className:"w-40",children:t.jsx(fe,{})}),t.jsxs(xe,{children:[t.jsx($,{value:"all",children:"All Metrics"}),t.jsx($,{value:"views",children:"Views Only"}),t.jsx($,{value:"interactions",children:"Interactions"}),t.jsx($,{value:"conversions",children:"Conversions"})]})]}),t.jsxs(me,{value:P,onValueChange:o=>A(o),children:[t.jsx(he,{className:"w-36",children:t.jsx(fe,{})}),t.jsxs(xe,{children:[t.jsx($,{value:"composed",children:"Combined"}),t.jsx($,{value:"area",children:"Area Chart"}),t.jsx($,{value:"bar",children:"Bar Chart"})]})]})]})]})}),t.jsx(Z,{children:T.length>0?t.jsxs(t.Fragment,{children:[t.jsx(be,{width:"100%",height:350,children:P==="composed"?t.jsxs(la,{data:T,children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"colorViews",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),t.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),t.jsxs("linearGradient",{id:"colorInteractions",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.8}),t.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:.1})]})]}),t.jsx(ae,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(W,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),t.jsx(q,{stroke:"#6b7280",tick:{fontSize:12}}),t.jsx(re,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),t.jsx(je,{wrapperStyle:{paddingTop:"15px"},iconType:"circle"}),h==="all"||h==="views"?t.jsx(R,{type:"monotone",dataKey:"views",fill:"url(#colorViews)",stroke:"#3b82f6",strokeWidth:2,name:"Views"}):null,h==="all"||h==="interactions"?t.jsx(ie,{dataKey:"interactions",fill:"#8b5cf6",name:"Interactions",radius:[4,4,0,0]}):null,h==="all"||h==="conversions"?t.jsx(J,{type:"monotone",dataKey:"conversions",stroke:"#10b981",strokeWidth:3,dot:{r:5,fill:"#10b981"},name:"Conversions"}):null,h==="all"?t.jsxs(t.Fragment,{children:[t.jsx(J,{type:"monotone",dataKey:"favorites",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5 5",dot:{r:4},name:"Favorites"}),t.jsx(J,{type:"monotone",dataKey:"shares",stroke:"#ec4899",strokeWidth:2,strokeDasharray:"5 5",dot:{r:4},name:"Shares"})]}):null]}):P==="area"?t.jsxs(Le,{data:T,children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"areaViews",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),t.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),t.jsxs("linearGradient",{id:"areaInteractions",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.8}),t.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:.1})]}),t.jsxs("linearGradient",{id:"areaConversions",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),t.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),t.jsx(ae,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(W,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),t.jsx(q,{stroke:"#6b7280",tick:{fontSize:12}}),t.jsx(re,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"}}),t.jsx(je,{wrapperStyle:{paddingTop:"15px"}}),h==="all"||h==="views"?t.jsx(R,{type:"monotone",dataKey:"views",stroke:"#3b82f6",fill:"url(#areaViews)",name:"Views"}):null,h==="all"||h==="interactions"?t.jsx(R,{type:"monotone",dataKey:"interactions",stroke:"#8b5cf6",fill:"url(#areaInteractions)",name:"Interactions"}):null,h==="all"||h==="conversions"?t.jsx(R,{type:"monotone",dataKey:"conversions",stroke:"#10b981",fill:"url(#areaConversions)",name:"Conversions"}):null]}):t.jsxs(oa,{data:T,children:[t.jsx(ae,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(W,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),t.jsx(q,{stroke:"#6b7280",tick:{fontSize:12}}),t.jsx(re,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"}}),t.jsx(je,{wrapperStyle:{paddingTop:"15px"}}),h==="all"||h==="views"?t.jsx(ie,{dataKey:"views",fill:"#3b82f6",name:"Views",radius:[4,4,0,0]}):null,h==="all"||h==="interactions"?t.jsx(ie,{dataKey:"interactions",fill:"#8b5cf6",name:"Interactions",radius:[4,4,0,0]}):null,h==="all"||h==="conversions"?t.jsx(ie,{dataKey:"conversions",fill:"#10b981",name:"Conversions",radius:[4,4,0,0]}):null]})}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 mt-6 pt-4 border-t",children:[t.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[t.jsx(ye,{className:"w-5 h-5 mx-auto text-blue-600 mb-1"}),t.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Total Views"}),t.jsx("div",{className:"text-lg font-bold text-blue-700",children:T.reduce((o,x)=>o+(x.views||0),0).toLocaleString()})]}),t.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[t.jsx(qe,{className:"w-5 h-5 mx-auto text-purple-600 mb-1"}),t.jsx("div",{className:"text-xs text-purple-600 font-medium",children:"Interactions"}),t.jsx("div",{className:"text-lg font-bold text-purple-700",children:T.reduce((o,x)=>o+(x.interactions||0),0).toLocaleString()})]}),t.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[t.jsx(Re,{className:"w-5 h-5 mx-auto text-green-600 mb-1"}),t.jsx("div",{className:"text-xs text-green-600 font-medium",children:"Conversions"}),t.jsx("div",{className:"text-lg font-bold text-green-700",children:T.reduce((o,x)=>o+(x.conversions||0),0).toLocaleString()})]}),t.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-lg",children:[t.jsx(yt,{className:"w-5 h-5 mx-auto text-amber-600 mb-1"}),t.jsx("div",{className:"text-xs text-amber-600 font-medium",children:"Favorites"}),t.jsx("div",{className:"text-lg font-bold text-amber-700",children:T.reduce((o,x)=>o+(x.favorites||0),0).toLocaleString()})]}),t.jsxs("div",{className:"text-center p-3 bg-pink-50 rounded-lg",children:[t.jsx(Ct,{className:"w-5 h-5 mx-auto text-pink-600 mb-1"}),t.jsx("div",{className:"text-xs text-pink-600 font-medium",children:"Shares"}),t.jsx("div",{className:"text-lg font-bold text-pink-700",children:T.reduce((o,x)=>o+(x.shares||0),0).toLocaleString()})]}),t.jsxs("div",{className:"text-center p-3 bg-cyan-50 rounded-lg",children:[t.jsx(_e,{className:"w-5 h-5 mx-auto text-cyan-600 mb-1"}),t.jsx("div",{className:"text-xs text-cyan-600 font-medium",children:"Inquiries"}),t.jsx("div",{className:"text-lg font-bold text-cyan-700",children:T.reduce((o,x)=>o+(x.inquiries||0),0).toLocaleString()})]})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[350px] text-center",children:[t.jsx(vt,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Engagement Data"}),t.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Property engagement metrics will appear here once your properties start receiving views and interactions from potential buyers."})]})})]}),t.jsxs(X,{className:"lg:col-span-2",children:[t.jsxs(ee,{children:[t.jsx(te,{children:"Inquiry Response Time"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Average time to respond to customer inquiries"})]}),t.jsxs(Z,{children:[t.jsx(be,{width:"100%",height:300,children:t.jsxs(Le,{data:S,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorResponseTime",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),t.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})}),t.jsx(ae,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(W,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),t.jsx(q,{stroke:"#6b7280",tick:{fontSize:12},label:{value:"Hours",angle:-90,position:"insideLeft"}}),t.jsx(re,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:o=>[`${o.toFixed(1)} hours`,"Response Time"]}),t.jsx(R,{type:"monotone",dataKey:"value",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorResponseTime)"})]})}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-4 border-t",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[S.length>0?(S.reduce((o,x)=>o+x.value,0)/S.length).toFixed(1):"0.0","h"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Fastest"}),t.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[S.length>0?Math.min(...S.map(o=>o.value)).toFixed(1):"0.0","h"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Inquiries"}),t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:d?.totalMessages||0})]})]})]})]})]}),t.jsxs(X,{children:[t.jsx(ee,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(te,{children:"Property Performance"}),t.jsxs(me,{value:r,onValueChange:i,children:[t.jsx(he,{className:"w-48",children:t.jsx(fe,{placeholder:"Filter by property"})}),t.jsxs(xe,{children:[t.jsx($,{value:"all",children:"All Properties"}),u.length>0?u.map(o=>t.jsxs($,{value:o._id,children:[(o.title||"Untitled Property").substring(0,30),o.title&&o.title.length>30?"...":""]},o._id)):t.jsx($,{value:"no-properties",disabled:!0,children:"No properties available"})]})]})]})}),t.jsx(Z,{children:u.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-center",children:[t.jsx($e,{className:"w-16 h-16 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Properties Found"}),t.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:"You haven't added any properties yet. Add your first property to start tracking performance analytics."}),t.jsx(Ee,{onClick:()=>window.location.href="/vendor/properties/add",className:"mt-2",children:"Add Your First Property"})]}):k.length>0?t.jsxs("div",{className:"space-y-6",children:[t.jsx(be,{width:"100%",height:400,children:t.jsxs(Le,{data:k,margin:{top:20,right:30,left:20,bottom:80},children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorViews",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),t.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),t.jsx(ae,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.5}),t.jsx(W,{dataKey:"title",angle:-45,textAnchor:"end",height:100,tick:{fontSize:11,fill:"#6b7280"},interval:0}),t.jsx(q,{tick:{fontSize:12,fill:"#6b7280"},label:{value:"Views",angle:-90,position:"insideLeft",style:{fill:"#6b7280"}}}),t.jsx(re,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.96)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(o,x)=>[o,x]}),t.jsx(je,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),t.jsx(R,{type:"monotone",dataKey:"views",fill:"url(#colorViews)",stroke:"#3b82f6",strokeWidth:3,name:"Property Views"})]})}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t",children:[t.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"text-xs text-blue-600 font-medium mb-1",children:"Total Views"}),t.jsx("div",{className:"text-2xl font-bold text-blue-700",children:k.reduce((o,x)=>o+(x.views||0),0).toLocaleString()})]}),t.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[t.jsx("div",{className:"text-xs text-purple-600 font-medium mb-1",children:"Total Favorites"}),t.jsx("div",{className:"text-2xl font-bold text-purple-700",children:k.reduce((o,x)=>o+(x.favorites||0),0).toLocaleString()})]}),t.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[t.jsx("div",{className:"text-xs text-purple-600 font-medium mb-1",children:"Active Properties"}),t.jsx("div",{className:"text-2xl font-bold text-purple-700",children:k.length})]}),t.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-lg",children:[t.jsx("div",{className:"text-xs text-amber-600 font-medium mb-1",children:"Avg Views/Property"}),t.jsx("div",{className:"text-2xl font-bold text-amber-700",children:k.length>0?Math.round(k.reduce((o,x)=>o+(x.views||0),0)/k.length):"0"})]})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-center",children:[t.jsx(ve,{className:"w-16 h-16 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Coming Soon"}),t.jsx("p",{className:"text-muted-foreground max-w-md",children:"Property performance analytics will be available once your properties receive sufficient views and interactions."})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(X,{children:[t.jsx(ee,{children:t.jsx(te,{children:"Weekly Engagement"})}),t.jsx(Z,{children:_.length>0?t.jsx(be,{width:"100%",height:300,children:t.jsxs(Tt,{data:_,children:[t.jsx(ae,{strokeDasharray:"3 3"}),t.jsx(W,{dataKey:"name"}),t.jsx(q,{}),t.jsx(re,{}),t.jsx(J,{type:"monotone",dataKey:"favorites",stroke:"#8884d8",strokeWidth:2,name:"Favorites"}),t.jsx(J,{type:"monotone",dataKey:"shares",stroke:"#82ca9d",strokeWidth:2,name:"Shares"}),t.jsx(J,{type:"monotone",dataKey:"inquiries",stroke:"#ffc658",strokeWidth:2,name:"Inquiries"})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-center",children:[t.jsx(ve,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Coming Soon"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Weekly engagement data will be displayed once sufficient activity is recorded"})]})})]}),t.jsxs(X,{children:[t.jsx(ee,{children:t.jsx(te,{children:"Top Performing Properties"})}),t.jsx(Z,{children:de.length>0?t.jsx("div",{className:"space-y-4",children:de.map((o,x)=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-16 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:t.jsx($e,{className:"w-6 h-6 text-gray-400"})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-sm font-medium truncate",children:o.title||"Untitled Property"}),t.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[t.jsxs("span",{className:"flex items-center text-xs text-muted-foreground",children:[t.jsx(ye,{className:"w-3 h-3 mr-1"}),o.views||0]}),t.jsxs("span",{className:"flex items-center text-xs text-muted-foreground",children:[t.jsx(qe,{className:"w-3 h-3 mr-1"}),o.leads||0]}),t.jsxs("span",{className:"flex items-center text-xs text-muted-foreground",children:[t.jsx(Re,{className:"w-3 h-3 mr-1"}),o.conversionRate||0,"%"]})]})]}),t.jsx(gt,{variant:"default",className:"flex-shrink-0",children:L.formatCurrency(o.revenue||0)})]},o.propertyId||x))}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-center",children:[t.jsx($e,{className:"w-16 h-16 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Data Available"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Top performing properties will appear here once you have property data and analytics"})]})})]})]}),t.jsxs(X,{children:[t.jsx(ee,{children:t.jsx(te,{children:"Insights & Recommendations"})}),t.jsx(Z,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Performance Analytics"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Detailed analytics insights will be available once sufficient data is collected from your property listings."})]}),t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Content Optimization"}),t.jsx("p",{className:"text-sm text-green-700",children:"Recommendations for improving your property listings will appear here based on performance data."})]}),t.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[t.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:"Market Insights"}),t.jsx("p",{className:"text-sm text-amber-700",children:"Market trends and pricing strategy insights will be generated from your property performance data."})]})]})})]})]})};export{ba as default};
